!function(t){"use strict";function e(t){return t||0===t}function n(t){return void 0===t}function a(t){return void 0!==t}function r(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+v)+", 0)"})}function a(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function i(t){var e,n,a=[];if(t.ticks)return t.ticks.apply(t,d);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)a.push(e);return a.length>0&&a[0]>0&&a.unshift(a[0]-(a[1]-a[0])),a}function o(){var t,n=h.copy();return e.isCategory&&(t=h.domain(),n.domain([t[0],t[1]-1])),n}function s(t){return u?u(t):t}function c(c){c.each(function(){function c(t){var e=h(t)+v;return L[0]<e&&e<L[1]?p:0}var u,d,m=t.select(this),b=this.__chart__||h,w=this.__chart__=o(),A=y?y:i(w),E=m.selectAll(".tick").data(A,w),k=E.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),D=E.exit().remove(),M=t.transition(E).style("opacity",1),L=h.rangeExtent?h.rangeExtent():r(h.range()),T=m.selectAll(".domain").data([0]),O=(T.enter().append("path").attr("class","domain"),t.transition(T));k.append("line"),k.append("text");var I=k.select("line"),X=M.select("line"),C=E.select("text").text(s),_=k.select("text"),R=M.select("text");switch(e.isCategory?(v=Math.ceil((w(1)-w(0))/2),d=f?0:v):v=d=0,g){case"bottom":u=n,I.attr("y2",p),_.attr("y",Math.max(p,0)+x),X.attr("x1",d).attr("x2",d).attr("y2",c),R.attr("x",0).attr("y",Math.max(p,0)+x),C.attr("dy",".71em").style("text-anchor","middle"),O.attr("d","M"+L[0]+","+l+"V0H"+L[1]+"V"+l);break;case"top":u=n,I.attr("y2",-p),_.attr("y",-(Math.max(p,0)+x)),X.attr("x2",0).attr("y2",-p),R.attr("x",0).attr("y",-(Math.max(p,0)+x)),C.attr("dy","0em").style("text-anchor","middle"),O.attr("d","M"+L[0]+","+-l+"V0H"+L[1]+"V"+-l);break;case"left":u=a,I.attr("x2",-p),_.attr("x",-(Math.max(p,0)+x)),X.attr("x2",-p).attr("y2",0),R.attr("x",-(Math.max(p,0)+x)).attr("y",v),C.attr("dy",".32em").style("text-anchor","end"),O.attr("d","M"+-l+","+L[0]+"H0V"+L[1]+"H"+-l);break;case"right":u=a,I.attr("x2",p),_.attr("x",Math.max(p,0)+x),X.attr("x2",p).attr("y2",0),R.attr("x",Math.max(p,0)+x).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),O.attr("d","M"+l+","+L[0]+"H0V"+L[1]+"H"+l)}if(w.rangeBand){var z=w,S=z.rangeBand()/2;b=w=function(t){return z(t)+S}}else b.rangeBand?b=w:D.call(u,w);k.call(u,b),M.call(u,w)})}var l,u,d,f,h=t.scale.linear(),g="bottom",p=6,x=3,y=null,v=0,m=!0;return e=e||{},l=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(h=t,c):h},c.orient=function(t){return arguments.length?(g=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):g},c.tickFormat=function(t){return arguments.length?(u=t,c):u},c.tickCentered=function(t){return arguments.length?(f=t,c):f},c.tickOffset=function(){return v},c.ticks=function(){return arguments.length?(d=arguments,c):d},c.tickCulling=function(t){return arguments.length?(m=t,c):m},c.tickValues=function(t){if("function"==typeof t)y=function(){return t(h.domain())};else{if(!arguments.length)return y;y=t}return c},c}var i={version:"0.2.5"},o={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",region:"c3-region",regions:"c3-regions",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};i.generate=function(i){function s(t,e){if(!(t in i))throw Error(e)}function c(t,e){var n,a,r,o=i;for(n=0;n<t.length;n++){if("object"==typeof o&&!(t[n]in o))return e;if(a=n===t.length-1,r=o[t[n]],!a&&"object"!=typeof r)return e;o=r}return o}function l(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"}function u(t){return Math.ceil(t)+.5}function d(t,e){var n,a,r;e&&e.axisX?n=e.axisX:(n=Lu.select("."+o.axisX),t&&(n=n.transition())),e&&e.axisY?a=e.axisY:(a=Lu.select("."+o.axisY),t&&(a=a.transition())),e&&e.axisY2?r=e.axisY2:(r=Lu.select("."+o.axisY2),t&&(r=r.transition())),(t?Lu.transition():Lu).attr("transform",uu.main),n.attr("transform",uu.x),a.attr("transform",uu.y),r.attr("transform",uu.y2),Lu.select("."+o.chartArcs).attr("transform",uu.arc)}function f(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=Tu.select("."+o.axisX),t&&(n=n.transition())),Tu.attr("transform",uu.context),n.attr("transform",uu.subx)}function h(t){(t?Ou.transition():Ou).attr("transform",uu.legend)}function g(t,e){d(t,e),Ps&&f(t,e),h(t)}function p(){var t=G(),e=q(),n=du||fu?0:t,a=Ar(fo.data.targets),r=rc||a?0:M("x"),i=Ps&&!a?Vs+r:0;Fo=m(),No=b(),rc?(Xo={top:M("y2")+w(),right:a?0:k(),bottom:M("y")+n+A(),left:i+(a?0:E())},Co={top:Xo.top,right:0/0,bottom:20+n,left:bu}):(Xo={top:0+w()+i,right:a?0:k(),bottom:r+n+A(),left:a?0:E()},Co={top:0,right:0/0,bottom:r+n+b()-i+15,left:Xo.left});var o={top:hu?w()+Qs+5.5:No-t-A()-Qs,left:gu?E()+Zs+.5:Fo-e-k()-Zs+.5};_o={top:du?0:fu?o.top:No-t,right:0/0,bottom:0,left:du?Fo-e:fu?o.left:0},Ro=Fo-Xo.left-Xo.right,So=No-Xo.top-Xo.bottom,0>Ro&&(Ro=0),0>So&&(So=0),zo=rc?Xo.left-bu-wu:Ro,jo=rc?So:No-Co.top-Co.bottom,0>zo&&(zo=0),0>jo&&(jo=0),Po=Ro-(du?e+10:0),Vo=So-(du?0:10),y(),du&&a&&(_o.left=Po/2+1.1*Bo)}function x(){Lu.select("line."+o.xgridFocus).attr("x1",rc?0:-10).attr("x2",rc?Ro:-10).attr("y1",rc?-10:0).attr("y2",rc?-10:So)}function y(){var t,e=ml||El;Bo=Math.min(Po,Vo)/2,Uo=.95*Bo,t=e?(Uo-e)/Uo:.6,Yo=wr(fo.data.targets)||br(fo.data.targets)?Uo*t:0}function v(){var t=rc?o.axisX:o.axisY,e=Lu.select("."+t).node(),n=e?e.getBoundingClientRect():{right:0},a=Xu.node().getBoundingClientRect(),r=Ar(fo.data.targets),i=n.right-a.left-(r?0:E());return i>0?i:0}function m(){return po?po:T()}function b(){var t=xo?xo:O();return t>0?t:320}function w(){return e(mo)?mo:0}function A(){return e(bo)?bo:0}function E(){return e(yo)?yo:rc?ic?Math.max(Qr(D("x")),40):1:!kc||Oc?1:Qr(D("y"))}function k(){var t=10,n=du?q()+20:0;return e(vo)?vo+1:rc?t+n:(!Rc||Nc?t:Qr(D("y2")))+n}function D(t){var e=pe(t);return e.isInner?20+Re(t):40+Re(t)}function M(t){return"x"!==t||ic?"x"===t&&wc?wc:"y"!==t||kc?"y2"!==t||Rc?(pe(t).isInner?30:40)+("y2"===t?-10:0):Au:!Js||du||fu?1:10:0}function L(t){for(var e,n=Xu.node();n&&"BODY"!==n.tagName&&!(e=n.getBoundingClientRect()[t]);)n=n.parentNode;return e}function T(){return L("width")}function O(){var t=Xu.style("height");return t.indexOf("px")>0?+t.replace("px",""):0}function I(t){return t?-31:-(Xo.left-1)}function X(t){return t?-20:-4}function C(){return I(!rc)}function _(){return X(!rc)}function R(){return I(rc)}function z(){return X(rc)}function S(t){return t?Ro+2+30+30:Xo.left+20}function j(t){return t?(wc?wc:0)+80:So+8}function F(){return S(!rc)}function N(){return j(!rc)}function U(){return S(rc)}function B(){return j(rc)}function Y(){var t,e,n,a,r,i,o=Un(fo.data.targets);return o?(t=o.values[0],e=o.values[o.values.length-1],n=as(e.x)-as(t.x),0===n?rc?So:Ro:(a=Nn(),r=yr(fo.data.targets)?(a-(Vl?.25:1))/a:1,i=a>1?n*r/(a-1):n,1>i?1:i)):0}function P(t){pu=t}function V(t){xu=t}function H(t){yu=t}function q(){return Js?du||fu?xu*(pu+1):Fo:0}function G(){var t=0;return Js&&(t=du?No:fu?$s?Math.max(20,yu)*($s+1):So:Math.max(20,yu)*(pu+1)),t}function J(){var t,e,n=!as;Ko=rc?1:0,Wo=rc?So:Ro,Zo=rc?0:So,Qo=rc?Ro:1,$o=Ko,ts=Wo,es=rc?0:jo,ns=rc?zo:1,as=Z(Ko,Wo,n?void 0:as.orgDomain(),function(){return ls.tickOffset()}),rs=Q(Zo,Qo,n?void 0:rs.domain()),is=Q(Zo,Qo,n?void 0:is.domain()),os=Z(Ko,Wo,Cu,function(t){return t%1?0:fs.tickOffset()}),ss=Q(es,ns,n?void 0:ss.domain()),cs=Q(es,ns,n?void 0:cs.domain()),t=re(),e=pc?pc:n?void 0:ls.tickValues(),ls=ee(as,ou,t,e),fs=ee(os,lu,t,e),us=ne(rs,su,Ic,_c,Xc),ds=ne(is,cu,Uc,Pc,Bc),n||(Eu.scale(os),wo&&ku.scale(as)),K()}function K(){Ho=Fe(),qo=Ne(),Go=Ne(.98)}function W(t,e,n){return(n?uo.time.scale():uo.scale.linear()).range([t,e])}function Z(t,e,n,a){var r,i=W(t,e,Pl),o=n?i.domain(n):i;Vl?(a=a||function(){return 0},i=function(t,e){var n=o(t)+a(t);return e?n:Math.ceil(n)}):i=function(t,e){var n=o(t);return e?n:Math.ceil(n)};for(r in o)i[r]=o[r];return i.orgDomain=function(){return o.domain()},Vl&&(i.domain=function(t){return arguments.length?(o.domain(t),i):(t=this.orgDomain(),[t[0],t[1]+1])}),i}function Q(t,e,n){var a=W(t,e);return n&&a.domain(n),a}function $(t){return"y2"===ae(t)?is:rs}function te(t){return"y2"===ae(t)?cs:ss}function ee(t,e,n,a){var i={isCategory:Vl,withOuterTick:yc},o=r(uo,i).scale(t).orient(e);return o.tickFormat(n).tickValues(a),Vl?(o.tickCentered(lc),Hr(dc)&&(dc=!1)):o.tickOffset=function(){var t=Bn(fo.data.targets),e=as(t[1])-as(t[0]),n=e?e:rc?So:Ro;return n/Nn()/2},o}function ne(t,e,n,a,i){var o={withOuterTick:i};return r(uo,o).scale(t).orient(e).tickFormat(n).ticks(a)}function ae(t){return t in ws?ws[t]:"y"}function re(){var t=Pl?nu:Vl?ra:function(t){return 0>t?t.toFixed(0):t};return uc&&("function"==typeof uc?t=uc:Pl&&(t=function(t){return t?eu(uc)(t):""})),t}function ie(t){var e;return"y"===t?e=Tc:"y2"===t?e=Fc:"x"===t&&(e=Ec),e}function oe(t){var e=ie(t);return"string"==typeof e?e:e?e.text:null}function se(t,e){var n=ie(t);"string"==typeof n?"y"===t?Tc=e:"y2"===t?Fc=e:"x"===t&&(Ec=e):n&&(n.text=e)}function ce(t){return 10*Math.sin(Math.PI*(t/180))}function le(t){return 11.5-2.5*(t/15)}function ue(t,e,n){t.selectAll(".tick text").style("text-anchor","start"),e.selectAll(".tick text").attr("y",le(n)).attr("x",ce(n)).attr("transform","rotate("+n+")")}function de(t,e){var n=ie(t),a=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:a.indexOf("inner")>=0,isOuter:a.indexOf("outer")>=0,isLeft:a.indexOf("left")>=0,isCenter:a.indexOf("center")>=0,isRight:a.indexOf("right")>=0,isTop:a.indexOf("top")>=0,isMiddle:a.indexOf("middle")>=0,isBottom:a.indexOf("bottom")>=0}}function fe(){return de("x",rc?"inner-top":"inner-right")}function he(){return de("y",rc?"inner-right":"inner-top")}function ge(){return de("y2",rc?"inner-right":"inner-top")}function pe(t){return"y2"===t?ge():"y"===t?he():fe()}function xe(){return oe("x")}function ye(){return oe("y")}function ve(){return oe("y2")}function me(t,e){return t?e.isLeft?0:e.isCenter?Ro/2:Ro:e.isBottom?-So:e.isMiddle?-So/2:0}function be(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"}function we(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"}function Ae(){return me(!rc,fe())}function Ee(){return me(rc,he())}function ke(){return me(rc,ge())}function De(){return be(!rc,fe())}function Me(){return be(rc,he())}function Le(){return be(rc,ge())}function Te(){var t=fe();return rc?t.isInner?"1.2em":-25-Re("x"):t.isInner?"-0.5em":wc?wc-10:"3em"}function Oe(){var t=he();return rc?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-20-Re("y")}function Ie(){var t=ge();return rc?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":30+Re("y2")}function Xe(){return we(!rc,fe())}function Ce(){return we(rc,he())}function _e(){return we(rc,ge())}function Re(t){var e,n,a,r=0;return Du&&(e=Gn(fo.data.targets),"y"===t?(n=rs.copy().domain(tn(e,"y")),a=ne(n,su,Ic,_c,Xc)):"y2"===t?(n=is.copy().domain(tn(e,"y2")),a=ne(n,cu,Uc,Pc,Bc)):(n=as.copy().domain(rn(e)),a=ee(n,ou,re(),pc?pc:ls.tickValues())),Lu.append("g").call(a).each(function(){uo.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();r<t.width&&(r=t.width)})}).remove()),mu=r>0?r:mu}function ze(t){var e=Lu.select("."+o.axisX+" ."+o.axisXLabel),n=Lu.select("."+o.axisY+" ."+o.axisYLabel),a=Lu.select("."+o.axisY2+" ."+o.axisY2Label);(t?e.transition():e).attr("x",Ae).attr("dx",De).attr("dy",Te).text(xe),(t?n.transition():n).attr("x",Ee).attr("dx",Me).attr("dy",Oe).attr("dy",Oe).text(ye),(t?a.transition():a).attr("x",ke).attr("dx",Le).attr("dy",Ie).text(ve)}function Se(t,e){return t.startAngle-e.startAngle}function je(t){var e=!1,n=0;if(Jo(Gn(fo.data.targets)).sort(Se).forEach(function(a){e||a.data.id!==t.data.id||(e=!0,t=a,t.index=n),n++}),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),Ir(t.data)){var a=xl,r=yl,i=Math.abs(a)+r,o=Math.PI/i;t.startAngle=-1*(Math.PI/2)+o*Math.abs(a),t.endAngle=t.startAngle+o*(t.value>r?r:t.value)}return e?t:null}function Fe(){var t=uo.svg.arc().outerRadius(Uo).innerRadius(Yo),e=function(e,n){var a;return n?t(e):(a=je(e),a?t(a):"M 0 0")};return e.centroid=t.centroid,e}function Ne(t){var e=uo.svg.arc().outerRadius(Bo*(t?t:1)).innerRadius(Yo);return function(t){var n=je(t);return n?e(n):"M 0 0"}}function Ue(t,e,n){return n||Cr(t.data)?Ho(t,e):"M 0 0"}function Be(t){var e,n,a,r,i,o=je(t),s="";return o&&!br(fo.data.targets)&&(e=Ho.centroid(o),n=isNaN(e[0])?0:e[0],a=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+a*a),i=Uo&&r?(36/Uo>.375?1.175-36/Uo:.8)*Uo/r:0,s="translate("+n*i+","+a*i+")"),s}function Ye(t){var e=br(fo.data.targets)?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/e:null}function Pe(t){return Dn({id:t.data.id,value:t.value,ratio:Ye(t),index:t.index})}function Ve(t){var e,n,a,r;return Ge()?(e=je(t),n=e?e.value:null,a=Ye(e),br(fo.data.targets)||Je(a)?(r=Ke(),r?r(n,a):Ba(n,a)):""):""}function He(t,e){var n=Du.selectAll("."+o.chartArc+Ta(t)),a=Du.selectAll("."+o.arc).filter(function(e){return e.data.id!==t});Fr(t)&&n.selectAll("path").transition().duration(50).attr("d",qo).transition().duration(100).attr("d",Go).each(function(t){Xr(t.data)}),e||a.style("opacity",.3)}function qe(t){var e=Du.selectAll("."+o.chartArc+Ta(t));e.selectAll("path."+o.arc).transition().duration(50).attr("d",Ho),Du.selectAll("."+o.arc).style("opacity",1)}function Ge(){var t=!0;return wr(fo.data.targets)?t=bl:mr(fo.data.targets)&&(t=cl),t}function Je(t){var e=wr(fo.data.targets)?Al:ul;return t>=e}function Ke(){var t=ll;return br(fo.data.targets)?t=gl:wr(fo.data.targets)&&(t=wl),t}function We(){return wr(fo.data.targets)?Ml:""}function Ze(t,n,a,r){var i="ratio"===t.unit?r:1;return e(t[n])?t[n]*i:a}function Qe(t){var e,n,a,r,i,o,s=Yn(t),c=ta(t);if(bs.length>0)for(o=na(t),e=0;e<bs.length;e++)if(r=bs[e].filter(function(t){return s.indexOf(t)>=0}),0!==r.length)for(a=r[0],o&&c[a]&&c[a].forEach(function(t,e){c[a][e]=0>t?t:0}),n=1;n<r.length;n++)i=r[n],c[i]&&c[i].forEach(function(t,e){ae(i)!==ae(a)||!c[a]||o&&+t>0||(c[a][e]+=+t)});return uo.min(Object.keys(c).map(function(t){return uo.min(c[t])}))}function $e(t){var e,n,a,r,i,o,s=Yn(t),c=ta(t);if(bs.length>0)for(o=aa(t),e=0;e<bs.length;e++)if(r=bs[e].filter(function(t){return s.indexOf(t)>=0}),0!==r.length)for(a=r[0],o&&c[a]&&c[a].forEach(function(t,e){c[a][e]=t>0?t:0}),n=1;n<r.length;n++)i=r[n],c[i]&&c[i].forEach(function(t,e){ae(i)!==ae(a)||!c[a]||o&&0>+t||(c[a][e]+=+t)});return uo.max(Object.keys(c).map(function(t){return uo.max(c[t])}))}function tn(t,n){var a,r,i,o,s,c,l,u,d,f,h=t.filter(function(t){return ae(t.id)===n}),g="y2"===n?Sc:Mc,p="y2"===n?zc:Dc,x=e(g)?g:Qe(h),y=e(p)?p:$e(h),v="y2"===n?jc:Lc,m=yr(h)&&ol||xr(h)&&sl,b=za()&&rc,w=za()&&!rc;return 0===h.length?"y2"===n?is.domain():rs.domain():(x===y&&(0>x?y=0:x=0),d=x>=0&&y>=0,f=0>=x&&0>=y,m&&(d&&(x=0),f&&(y=0)),a=Math.abs(y-x),r=i=o=.1*a,v&&(s=Math.max(Math.abs(x),Math.abs(y)),y=s-v,x=v-s),b?(c=Sa(x,y,n,"width"),l=sn(rs.range()),u=[c[0]/l,c[1]/l],i+=a*(u[1]/(1-u[0]-u[1])),o+=a*(u[0]/(1-u[0]-u[1]))):w&&(c=Sa(x,y,n,"height"),i+=c[1],o+=c[0]),"y"===n&&Cc&&(i=Ze(Cc,"top",r,a),o=Ze(Cc,"bottom",r,a)),"y2"===n&&Yc&&(i=Ze(Yc,"top",r,a),o=Ze(Yc,"bottom",r,a)),m&&(d&&(o=x),f&&(i=-y)),[x-o,y+i])}function en(t){return mc?Pl?Br(mc):mc:uo.min(t,function(t){return uo.min(t.values,function(t){return t.x})})}function nn(t){return vc?Pl?Br(vc):vc:uo.max(t,function(t){return uo.max(t.values,function(t){return t.x})})}function an(t){var n,a,r,i,o=Bn(t),s=o[1]-o[0];return Vl?a=0:yr(t)?(n=Nn(),a=n>1?s/(n-1)/2:.5):a=.01*s,"object"==typeof bc&&qr(bc)?(r=e(bc.left)?bc.left:a,i=e(bc.right)?bc.right:a):r=i="number"==typeof bc?bc:a,{left:r,right:i}}function rn(t){var e=[en(t),nn(t)],n=e[0],a=e[1],r=an(t),i=0,o=0;return n-a!==0||Vl||(n=Pl?new Date(.5*n.getTime()):-.5,a=Pl?new Date(1.5*a.getTime()):.5),(n||0===n)&&(i=Pl?new Date(n.getTime()-r.left):n-r.left),(a||0===a)&&(o=Pl?new Date(a.getTime()+r.right):a+r.right),[i,o]}function on(t,e,n,a){return n&&(as.domain(a?a:uo.extent(rn(t))),Cu=as.domain(),wo&&ku.scale(as).updateScaleExtent(),os.domain(as.domain()),Eu.scale(os)),e&&(as.domain(a?a:Eu.empty()?Cu:Eu.extent()),wo&&ku.scale(as).updateScaleExtent()),as.domain()}function sn(t){return t[1]-t[0]}function cn(t){for(var e=0;e<t.length;e++)if(!(t[e]in ho))return!1;return!0}function ln(t,e){ho[t]=Sn(e)}function un(t){for(var e=[],n=0;n<t.length;n++)t[n]in ho&&e.push(Sn(ho[t[n]]));return e}function dn(t){var e,n="y"===t.axis?rs:is;return e="y"===t.axis||"y2"===t.axis?rc&&"start"in t?n(t.start):0:rc?0:"start"in t?as(Pl?Br(t.start):t.start):0}function fn(t){var e,n="y"===t.axis?rs:is;return e="y"===t.axis||"y2"===t.axis?rc?0:"end"in t?n(t.end):0:rc&&"start"in t?as(Pl?Br(t.start):t.start):0}function hn(t){var e,n=dn(t),a="y"===t.axis?rs:is;return e="y"===t.axis||"y2"===t.axis?rc&&"end"in t?a(t.end):Ro:rc?Ro:"end"in t?as(Pl?Br(t.end):t.end):Ro,n>e?0:e-n}function gn(t){var e,n=fn(t),a="y"===t.axis?rs:is;return e="y"===t.axis||"y2"===t.axis?rc?So:"start"in t?a(t.start):So:rc&&"end"in t?as(Pl?Br(t.end):t.end):So,n>e?0:e-n}function pn(t){return!t.axis||"x"===t.axis}function xn(t){return hs&&t===hs||qr(gs)&&Gr(gs,t)}function yn(t){return!xn(t)}function vn(t){return hs?hs:qr(gs)?gs[t]:null}function mn(t,e){var n,a=e&&qr(e)?Yn(e):[];return a.forEach(function(e){vn(e)===t&&(n=fo.data.xs[e])}),n}function bn(t,n){return t in fo.data.xs&&fo.data.xs[t]&&e(fo.data.xs[t][n])?fo.data.xs[t][n]:n}function wn(){var t=Object.keys(fo.data.xs);return t.length?fo.data.xs[t[0]]:null}function An(t){var e=wn();return e&&t<e.length?e[t]:null}function En(t){Object.keys(t).forEach(function(e){gs[e]=t[e]})}function kn(t){return 1===uo.set(Object.keys(t).map(function(e){return t[e]})).size()}function Dn(t){var e;return t&&(e=vs[t.id],t.name=e?e:t.id),t}function Mn(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null}function Ln(t,e){t.forEach(function(t){t.values.forEach(function(n,a){n.x=On(e[a],t.id,a)}),fo.data.xs[t.id]=e})}function Tn(t,e){t.forEach(function(t){e[t.id]&&Ln([t],e[t.id])})}function On(t,n,a){var r;return r=Pl?Br(t?t:bn(n,a)):Hl()&&!Vl?e(t)?+t:bn(n,a):a}function In(t,e,n,a){var r=e?e:"csv";uo.xhr(t,function(t,e){var i;i="json"===r?Cn(JSON.parse(e.response),n):Xn(e.response),a(i)})}function Xn(t){var e,n=uo.csv.parseRows(t);return 1===n.length?(e=[{}],n[0].forEach(function(t){e[0][t]=null})):e=uo.csv.parse(t),e}function Cn(t,e){var n,a,r=[];return e?(n=e.value,e.x&&(n.push(e.x),hs=e.x),r.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var a=void 0===t[n]?null:t[n];e.push(a)}),r.push(e)}),a=_n(r)):(Object.keys(t).forEach(function(e){r.push([e].concat(t[e]))}),a=Rn(r)),a}function _n(t){var e,a,r=t[0],i={},o=[];for(e=1;e<t.length;e++){for(i={},a=0;a<t[e].length;a++){if(n(t[e][a]))throw Error("Source data is missing a component at ("+e+","+a+")!");i[r[a]]=t[e][a]}o.push(i)}return o}function Rn(t){var e,a,r,i=[];for(e=0;e<t.length;e++)for(r=t[e][0],a=1;a<t[e].length;a++){if(n(i[a-1])&&(i[a-1]={}),n(t[e][a]))throw Error("Source data is missing a component at ("+e+","+a+")!");i[a-1][r]=t[e][a]}return i}function zn(t,n){var a,r=uo.keys(t[0]).filter(yn),i=uo.keys(t[0]).filter(xn);return r.forEach(function(a){var r=vn(a);Hl()||Pl?i.indexOf(r)<0?hs?fo.data.xs[a]=wn():qr(gs)&&(fo.data.xs[a]=mn(r,fo.data.targets)):fo.data.xs[a]=(n&&fo.data.xs[a]?fo.data.xs[a]:[]).concat(t.map(function(t){return t[r]}).filter(e).map(function(t,e){return On(t,a,e)})):fo.data.xs[a]=t.map(function(t,e){return e})}),r.forEach(function(t){if(!fo.data.xs[t])throw Error('x is not defined for id = "'+t+'".')}),a=r.map(function(e,n){var a=ys(e);return{id:a,id_org:e,values:t.map(function(t,r){var i=vn(e),o=t[i],s=On(o,e,r);return Hl()&&Vl&&0===n&&o&&(0===r&&(cc=[]),cc.push(o)),void 0!==t[e]&&fo.data.xs[e].length>r||(s=void 0),{x:s,value:null===t[e]||isNaN(t[e])?null:+t[e],id:a}}).filter(function(t){return void 0!==t.x})}}),a.forEach(function(t){var e;t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,a=e.x||0===e.x?e.x:1/0;return n-a}),e=0,t.values.forEach(function(t){t.index=e++}),fo.data.xs[t.id].sort(function(t,e){return t-e})}),As&&gr(Yn(a).filter(function(t){return!(t in Es)}),As),a.forEach(function(t){ln(t.id_org,t)}),a}function Sn(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}}function jn(t){var e=Mn(fo.data.targets[0].values,t-1);return e?e.x:null}function Fn(t){var e=Mn(fo.data.targets[0].values,t+1);return e?e.x:null}function Nn(){return uo.max(fo.data.targets,function(t){return t.values.length})}function Un(t){var e,n=t.length,a=0;return n>1?t.forEach(function(t){t.values.length>a&&(e=t,a=t.values.length)}):e=n?t[0]:null,e}function Bn(t){var e,n,a=Un(t);return a?(e=a.values[0],n=a.values[a.values.length-1],[e.x,n.x]):[0,0]}function Yn(t){return t.map(function(t){return t.id})}function Pn(t){return t?"string"==typeof t?[t]:t:Yn(fo.data.targets)}function Vn(t,e){var n,a=Yn(t);for(n=0;n<a.length;n++)if(a[n]===e)return!0;return!1}function Hn(t){return au.indexOf(t)<0}function qn(t){return ru.indexOf(t)<0}function Gn(t){return t.filter(function(t){return Hn(t.id)})}function Jn(t){var e=uo.set(uo.merge(t.map(function(t){return t.values.map(function(t){return t.x})}))).values();return e.map(Pl?function(t){return new Date(t)}:function(t){return+t})}function Kn(t,e){var n,a,r,i,o,s,c,l=t;if(e)if(n="function"==typeof e?e():e,1===n)l=[t[0]];else if(2===n)l=[t[0],t[t.length-1]];else if(n>2){for(i=n-2,a=t[0],r=t[t.length-1],o=(r-a)/(i+1),l=[a],s=0;i>s;s++)c=+a+o*(s+1),l.push(Pl?new Date(c):c);l.push(r)}return Pl||(l=l.sort(function(t,e){return t-e})),l}function Wn(t){au=au.concat(t)}function Zn(t){au=au.filter(function(e){return t.indexOf(e)<0})}function Qn(t){ru=ru.concat(t)}function $n(t){ru=ru.filter(function(e){return t.indexOf(e)<0})}function ta(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e}function ea(t,e){var n,a,r,i=Object.keys(t);for(n=0;n<i.length;n++)for(r=t[i[n]].values,a=0;a<r.length;a++)if(e(r[a].value))return!0;return!1}function na(t){return ea(t,function(t){return 0>t})}function aa(t){return ea(t,function(t){return t>0})}function ra(t){return t<cc.length?cc[t]:t}function ia(t,e){return" "+t+" "+t+La(e)}function oa(t){return ia(o.text,t.index)}function sa(t){return ia(o.texts,t.id)}function ca(t){return ia(o.shape,t.index)}function la(t){return ia(o.shapes,t.id)}function ua(t){return ca(t)+ia(o.line,t.id)}function da(t){return la(t)+ia(o.lines,t.id)}function fa(t){return ca(t)+ia(o.circle,t.index)}function ha(t){return la(t)+ia(o.circles,t.id)}function ga(t){return ca(t)+ia(o.bar,t.index)}function pa(t){return la(t)+ia(o.bars,t.id)}function xa(t){return ca(t.data)+ia(o.arc,t.data.id)}function ya(t){return la(t.data)+ia(o.arcs,t.data.id)}function va(t){return ca(t)+ia(o.area,t.id)}function ma(t){return la(t)+ia(o.areas,t.id)}function ba(t,e){return ia(o.region,e)+" "+("class"in t?t.class:"")}function wa(t){return ia(o.eventRect,t.index)}function Aa(t){var e=ms[t],n="";return e&&(n=" "+o.target+"-"+e),ia(o.target,t)+n}function Ea(t){return o.chartText+Aa(t.id)}function ka(t){return o.chartLine+Aa(t.id)}function Da(t){return o.chartBar+Aa(t.id)}function Ma(t){return o.chartArc+Aa(t.data.id)}function La(t){return t||0===t?"-"+(t.replace?t.replace(/([^a-zA-Z0-9-_])/g,"-"):t):""}function Ta(t){return"."+o.target+La(t)}function Oa(t){return t.length?t.map(function(t){return Ta(t)}):null}function Ia(t){return"."+o.legendItem+La(t)}function Xa(t){return t.length?t.map(function(t){return Ia(t)}):null}function Ca(t){return null!==t.value&&Ru[t.id]?1:0}function _a(t){return e(t.value)?Tr(t)?.5:1:0}function Ra(){return za()?1:0}function za(){return"boolean"==typeof ks&&ks?!0:"object"==typeof ks&&qr(ks)?!0:!1}function Sa(t,e,n,a){var r=[0,0],i=1.3;return Xu.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return Ya(n)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[a]*i}).remove(),r}function ja(t){var e=t&&!br(fo.data.targets)?Ba:Fa,n=t&&!br(fo.data.targets)?Ba:Na;return function(t,a,r){var i="y2"===ae(r)?n:e;return i(t,a)}}function Fa(t){var e=Ic?Ic:Ua;return e(t)}function Na(t){var e=Uc?Uc:Ua;return e(t)}function Ua(t){return e(t)?+t:""}function Ba(t,e){return(100*e).toFixed(1)+"%"}function Ya(t){var n=function(t){return e(t)?+t:""};return"function"==typeof ks.format?n=ks.format:"object"==typeof ks.format&&"function"==typeof ks.format[t]&&(n=ks.format[t]),n}function Pa(t){return t?as(t.x):null}function Va(t){return Math.ceil(as(Pl?Br(t.value):t.value))}function Ha(t){var e=t.axis&&"y2"===t.axis?is:rs;return Math.ceil(e(t.value))}function qa(t){return t?os(t.x):null}function Ga(t,e){var n,a=t[e].x,r=[];for(n=e-1;n>=0&&a===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&a===t[n].x;n++)r.push(t[n]);return r}function Ja(t,e,n,a){var r,i=n?n:0,o=a?a:t.length-1,s=Math.floor((o-i)/2)+i,c=t[s],l=as(c.x)-e[rc?1:0];return l>0?o=s:i=s,o-i===1||0===i&&0===o?(r=[],(t[i].x||0===t[i].x)&&(r=r.concat(Ga(t,i))),(t[o].x||0===t[o].x)&&(r=r.concat(Ga(t,o))),Wa(r,e)):Ja(t,e,i,o)}function Ka(t,e){var n;return n=t.map(function(t){return Ja(t.values,e)}),Wa(n,e)}function Wa(t,e){var n,a;return t.forEach(function(t){var r=Jr(t,e);(n>r||!n)&&(n=r,a=t)}),a}function Za(t,e){return uo.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})}function Qa(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],a=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:a,y:r,width:e.width,height:e.height}}function $a(){return Ds&&"desc"===Ds.toLowerCase()}function tr(){return Ds&&"asc"===Ds.toLowerCase()}function er(t){var e=tr(),n=$a();return e||n?t.sort(function(t,n){var a=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(a,0),i=n.values.reduce(a,0);return e?i-r:r-i}):"function"==typeof Ds&&t.sort(Ds),t}function nr(t,n){var a,r,i,o,s,c,l,u=Ar(fo.data.targets),d=t.filter(function(t){return t&&e(t.value)});0!==d.length&&Tl&&(Iu.html(_l(t,re(),ja(u),Ql)).style("display","block"),a=Iu.property("offsetWidth"),r=Iu.property("offsetHeight"),u?(o=Ro/2+n[0],c=So/2+n[1]+20):(rc?(i=v(),o=i+n[0]+100,s=o+a,l=m()-k(),c=as(d[0].x)+20):(i=v(),o=i+E()+as(d[0].x)+20,s=o+a,l=i+m()-k(),c=n[1]+15),s>l&&(o-=s-l),c+r>b()&&c>r+30&&(c-=r+30)),Iu.style("top",c+"px").style("left",o+"px"))}function ar(){Iu.style("display","none")}function rr(t){var n=t.filter(function(t){return t&&e(t.value)});if(Tl&&!vr(fo.data.targets)&&!Ar(fo.data.targets)){var a=Lu.selectAll("line."+o.xgridFocus);a.style("visibility","visible").data([n[0]]).attr(rc?"y1":"x1",Pa).attr(rc?"y2":"x2",Pa),Ui(a,"grid")}}function ir(){Lu.select("line."+o.xgridFocus).style("visibility","hidden")}function or(t,e){var n,a,r,i,s=[],c=Lu.select("."+o.axisX).selectAll(".tick").size();if("year"===t)for(n=rn(),a=n[0].getFullYear(),r=n[1].getFullYear(),i=a;r>=i;i++)s.push(new Date(i+"-01-01 00:00:00"));else s=e.ticks(10),s.length>c&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s}function sr(t){var e,a,r={},i=0;return Gn(fo.data.targets.filter(t)).forEach(function(t){for(e=0;e<bs.length;e++)if(bs[e].indexOf(t.id)>=0)for(a=0;a<bs[e].length;a++)if(bs[e][a]in r){r[t.id]=r[bs[e][a]];break}n(r[t.id])&&(r[t.id]=i++)}),r.__max__=i-1,r}function cr(t,e,n,a){var r=a?os:as;return function(a){var i=a.id in n?n[a.id]:0;return a.x||0===a.x?r(a.x)-t*(e/2-i):0}}function lr(t){return function(e){var n=t?te(e.id):$(e.id);return n(e.value)}}function ur(t,e,n){var a=er(Gn(fo.data.targets.filter(t))),r=a.map(function(t){return t.id});return function(t,i){var o=n?te(t.id):$(t.id),s=o(0),c=s;return a.forEach(function(n){n.id!==t.id&&e[n.id]===e[t.id]&&r.indexOf(n.id)<r.indexOf(t.id)&&n.values[i].value*t.value>=0&&(c+=o(n.values[i].value)-s)}),c}}function dr(t){return t.x||0===t.x?as(t.x):null}function fr(t,e){var n=sr(Er),a=Ti(n);return bs.length>0?a(t,e)[0][1]:$(t.id)(t.value)}function hr(t,e){var n="number"==typeof al?al:e?2*t.tickOffset()*rl/e:0;return rl&&n>il?il:n}function gr(t,e){Pn(t).forEach(function(t){Ru[t]=e===Es[t],Es[t]=e}),t||(As=e)}function pr(t,e){var n=!1;return t.forEach(function(t){Es[t.id]===e&&(n=!0),t.id in Es||"line"!==e||(n=!0)}),n}function xr(t){return pr(t,"area")||pr(t,"area-spline")||pr(t,"area-step")}function yr(t){return pr(t,"bar")}function vr(t){return pr(t,"scatter")}function mr(t){return"pie"===As||pr(t,"pie")}function br(t){return pr(t,"gauge")}function wr(t){return"donut"===As||pr(t,"donut")}function Ar(t){return mr(t)||wr(t)||br(t)}function Er(t){var e="string"==typeof t?t:t.id;return!Es[e]||["line","spline","area","area-spline","step","area-step"].indexOf(Es[e])>=0}function kr(t){var e="string"==typeof t?t:t.id;return["step","area-step"].indexOf(Es[e])>=0}function Dr(t){var e="string"==typeof t?t:t.id;return["spline","area-spline"].indexOf(Es[e])>=0}function Mr(t){var e="string"==typeof t?t:t.id;return["area","area-spline","area-step"].indexOf(Es[e])>=0}function Lr(t){var e="string"==typeof t?t:t.id;return"bar"===Es[e]}function Tr(t){var e="string"==typeof t?t:t.id;return"scatter"===Es[e]}function Or(t){var e="string"==typeof t?t:t.id;return"pie"===Es[e]}function Ir(t){var e="string"==typeof t?t:t.id;return"gauge"===Es[e]}function Xr(t){var e="string"==typeof t?t:t.id;return"donut"===Es[e]}function Cr(t){return Or(t)||Xr(t)||Ir(t)}function _r(t){return Er(t)?[t]:[]}function Rr(t){return Cr(t.data)?[t]:[]}function zr(t){return Lr(t)?t.values:[]}function Sr(t){return Er(t)||Tr(t)?t.values:[]}function jr(t){return Lr(t)||Er(t)?t.values:[]}function Fr(t){return Xr(t)&&Dl||Ir(t)&&pl||Or(t)&&fl}function Nr(t,e,n){var a=[];return function(r){var i,o=r.id||r;return t[o]instanceof Function?i=t[o](r):t[o]?i=t[o]:(a.indexOf(o)<0&&a.push(o),i=e[a.indexOf(o)%e.length],t[o]=i),n instanceof Function?n(i,r):i}}function Ur(t,e){var n="value"===e.unit,a=e.values&&e.values.length?e.values:[],r=e.max||100;return function(e){var i,o,s=t[t.length-1];for(i=0;i<a.length;i++)if(o=n?e:100*e/r,o<a[i]){s=t[i];break}return s}}function Br(e){var n;return n=e instanceof Date?e:"number"==typeof e?new Date(e):tu(ps).parse(e),(!n||isNaN(+n))&&t.console.error("Failed to parse x '"+e+"' to Date object"),n}function Yr(t,e){var n=uo.mouse(t),a=uo.select(t),r=1*a.attr("cx"),i=1*a.attr("cy");return Math.sqrt(Math.pow(r-n[0],2)+Math.pow(i-n[1],2))<e}function Pr(t){var e=uo.mouse(t),n=t.getBoundingClientRect(),a=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),i=a.x,o=Math.min(a.y,r.y),s=n.width,c=n.height,l=2,u=i-l,d=i+s+l,f=o+c+l,h=o-l;
return u<e[0]&&e[0]<d&&h<e[1]&&e[1]<f}function Vr(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function Hr(t){return!t||"string"==typeof t&&0===t.length||"object"==typeof t&&0===Object.keys(t).length}function qr(t){return Object.keys(t).length>0}function Gr(t,e){var n=!1;return Object.keys(t).forEach(function(a){t[a]===e&&(n=!0)}),n}function Jr(t,e){var n="y"===ae(t.id)?rs:is,a=rc?1:0,r=rc?0:1;return Math.pow(as(t.x)-e[a],2)+Math.pow(n(t.value)-e[r],2)}function Kr(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})}function Wr(){var t=[],e=function(e,n){var a=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(a),n&&n())},10)};return e.add=function(e){t.push(e)},e}function Zr(t,e,n){return a(t[e])?t[e]:n}function Qr(t){return 10*Math.ceil(t/10)}function $r(t,e){var n;return uo.select("body").selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).text(t).each(function(){n=this.getBoundingClientRect()}).remove(),n}function ti(t){return Dr(t)?"cardinal":kr(t)?"step-after":"linear"}function ei(){return uo.selectAll([])}function ni(t,e,n){Fs.call(fo,e,t.node()),Lu.select("."+o.selectedCircles+La(e.id)).selectAll("."+o.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return ia(o.selectedCircle,n)}).attr("cx",rc?fr:dr).attr("cy",rc?dr:fr).attr("stroke",function(){return Ql(e)}).attr("r",1.4*hi(e)).transition().duration(100).attr("r",hi)}function ai(t,e,n){Ns.call(fo,e,t.node()),Lu.select("."+o.selectedCircles+La(e.id)).selectAll("."+o.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()}function ri(t,e,n,a){t?ni(e,n,a):ai(e,n,a)}function ii(t,e){Fs.call(fo,e,t.node()),t.transition().duration(100).style("fill",function(){return uo.rgb(Ql(e)).brighter(.75)})}function oi(t,e){Ns.call(fo,e,t.node()),t.transition().duration(100).style("fill",function(){return Ql(e)})}function si(t,e,n,a){t?ii(e,n,a):oi(e,n,a)}function ci(t,e,n,a){si(t,e,n.data,a)}function li(t){return"circle"===t.nodeName?ri:uo.select(t).classed(o.bar)?si:ci}function ui(t){return t.filter(function(t){return e(t.value)})}function di(t){return Zc&&!kr(t)?"function"==typeof Qc?Qc(t):Qc:0}function fi(t){return $c?tl?tl:1.75*di(t):di(t)}function hi(t){return el?el:4*di(t)}function gi(t,n){return(n?Lu.selectAll("."+o.circles+La(n)):Lu).selectAll("."+o.circle+(e(t)?"-"+t:""))}function pi(t,e){gi(t,e).classed(o.EXPANDED,!0).attr("r",fi)}function xi(t){gi(t).filter(function(){return uo.select(this).classed(o.EXPANDED)}).classed(o.EXPANDED,!1).attr("r",di)}function yi(t){return Lu.selectAll("."+o.bar+(e(t)?"-"+t:""))}function vi(t){yi(t).classed(o.EXPANDED,!0)}function mi(t){yi(t).classed(o.EXPANDED,!1)}function bi(t,e){var n=uo.svg.area(),a=Mi(t,e),r=e?te:$,i=function(t,e){return bs.length>0?a(t,e)[0][1]:r(t.id)(0)},o=function(t,e){return bs.length>0?a(t,e)[1][1]:r(t.id)(t.value)};return n=rc?n.x0(i).x1(o).y(Pa):n.x(Pa).y0(i).y1(o),nl||(n=n.defined(function(t){return null!==t.value})),function(t){var e,a=nl?ui(t.values):t.values,r=0,i=0;return Mr(t)?e=n.interpolate(ti(t))(a):(a[0]&&(r=as(a[0].x),i=$(t.id)(a[0].value)),e=rc?"M "+i+" "+r:"M "+r+" "+i),e?e:"M 0 0"}}function wi(t,e){var n=uo.svg.line(),a=Ti(t,e),r=e?te:$,i=e?qa:Pa,o=function(t,e){return bs.length>0?a(t,e)[0][1]:r(t.id)(t.value)};return n=rc?n.x(o).y(i):n.x(i).y(o),nl||(n=n.defined(function(t){return null!=t.value})),function(t){var a,i=nl?ui(t.values):t.values,o=e?o:os,s=r(t.id),c=0,l=0;return Er(t)?a=Ms[t.id]?Oi(i,o,s,Ms[t.id]):n.interpolate(ti(t))(i):(i[0]&&(c=o(i[0].x),l=s(i[0].value)),a=rc?"M "+l+" "+c:"M "+c+" "+l),a?a:"M 0 0"}}function Ai(t,e){var n=Li(t,e);return function(t,e){var a=n(t,e),r=rc?1:0,i=rc?0:1,o="M "+a[0][r]+","+a[0][i]+" L"+a[1][r]+","+a[1][i]+" L"+a[2][r]+","+a[2][i]+" L"+a[3][r]+","+a[3][i]+" z";return o}}function Ei(t,e){var n=Li(t,!1),a=e?ki:Di;return function(t,e){return a(n(t,e),t,this)}}function ki(t,e,n){var a,r,i=n.getBoundingClientRect();return rc?(r=Lr(e)?4:6,a=t[2][1]+r*(e.value<0?-1:1)):a=t[0][0]+(t[2][0]-t[0][0])/2,a>Ro?Ro-i.width:a}function Di(t,e,n){var a,r=n.getBoundingClientRect();return a=rc?(t[0][0]+t[2][0]+.6*r.height)/2:t[2][1]+(e.value<0?r.height:Lr(e)?-3:-6),a<r.height?r.height:a}function Mi(t,e){var n=t.__max__+1,a=cr(0,n,t,!!e),r=lr(!!e),i=ur(Mr,t,!!e),o=e?te:$;return function(t,e){var n=o(t.id)(0),s=i(t,e)||n,c=a(t),l=r(t);return rc&&(0<t.value&&n>l||t.value<0&&l>n)&&(l=n),[[c,s],[c,l-(n-s)]]}}function Li(t,e){var n=t.__max__+1,a=hr(ls,n),r=cr(a,n,t,!!e),i=lr(!!e),o=ur(Lr,t,!!e),s=e?te:$;return function(t,e){var n=s(t.id)(0),c=o(t,e)||n,l=r(t),u=i(t);return rc&&(0<t.value&&n>u||t.value<0&&u>n)&&(u=n),[[l,c],[l,u-(n-c)],[l+a,u-(n-c)],[l+a,c]]}}function Ti(t,e){var n=t.__max__+1,a=cr(0,n,t,!!e),r=lr(!!e),i=ur(Er,t,!!e),o=e?te:$;return function(t,e){var n=o(t.id)(0),s=i(t,e)||n,c=a(t),l=r(t);return rc&&(0<t.value&&n>l||t.value<0&&l>n)&&(l=n),[[c,l-(n-s)]]}}function Oi(t,e,r,i){var o,s,c,l,u,d,f,h,g,p,x,y,v=-1,m="M",b=[];if(a(i))for(o=0;o<i.length;o++)b[o]={},b[o].start=n(i[o].start)?t[0].x:Pl?Br(i[o].start):i[o].start,b[o].end=n(i[o].end)?t[t.length-1].x:Pl?Br(i[o].end):i[o].end;for(x=rc?function(t){return r(t.value)}:function(t){return e(t.x)},y=rc?function(t){return e(t.x)}:function(t){return r(t.value)},c=Pl?function(t,n,a,i){var o=t.x.getTime(),s=n.x-t.x,c=new Date(o+s*a),l=new Date(o+s*(a+i));return"M"+e(c)+" "+r(u(a))+" "+e(l)+" "+r(u(a+i))}:function(t,n,a,i){return"M"+e(l(a),!0)+" "+r(u(a))+" "+e(l(a+i),!0)+" "+r(u(a+i))},o=0;o<t.length;o++){if(n(b)||!Vr(t[o].x,b))m+=" "+x(t[o])+" "+y(t[o]);else for(l=W(t[o-1].x,t[o].x,Pl),u=W(t[o-1].value,t[o].value),d=e(t[o].x)-e(t[o-1].x),f=r(t[o].value)-r(t[o-1].value),h=Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),g=2/h,p=2*g,s=g;1>=s;s+=p)m+=c(t[o-1],t[o],s,g);v=t[o].x}return m}function Ii(){var t=wo?ku:function(){};Lu.select("."+o.zoomRect).call(t),Lu.selectAll("."+o.eventRect).call(t)}function Xi(){rc?(iu.x.call(ls),iu.subx.call(fs)):(iu.y.call(us),iu.y2.call(ds)),p(),J(),Hi(),g(!1)}function Ci(e){var n=new MutationObserver(function(a){a.forEach(function(a){if("childList"===a.type&&a.previousSibling){n.disconnect();var r=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(r),Xi(),Bi({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10)}})});n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})}function _i(e){var n,a,r,i,s=!0;if(Xu=uo.select(go),Xu.empty()&&(Xu=uo.select(document.createElement("div")).style("opacity",0),Ci(Xu),s=!1),Xu.html("").classed("c3",!0),fo.data.xs={},fo.data.targets=zn(e),Is&&(fo.data.targets=fo.data.targets.filter(Is)),Os&&Wn(Os===!0?Yn(fo.data.targets):Os),br(fo.data.targets)&&(Js=!1),p(),J(),as.domain(uo.extent(rn(fo.data.targets))),rs.domain(tn(fo.data.targets,"y")),is.domain(tn(fo.data.targets,"y2")),os.domain(as.domain()),ss.domain(rs.domain()),cs.domain(is.domain()),Cu=as.domain(),Eu.scale(os),wo&&ku.scale(as),Du=Xu.append("svg").style("overflow","hidden").on("mouseenter",function(){return Mo.call(fo)}).on("mouseleave",function(){return Lo.call(fo)}),Mu=Du.append("defs"),Mu.append("clipPath").attr("id",jl).append("rect"),Mu.append("clipPath").attr("id",Fl).append("rect"),Mu.append("clipPath").attr("id",Nl).append("rect"),Hi(),Lu=Du.append("g").attr("transform",uu.main),Tu=Du.append("g").attr("transform",uu.context),Ou=Du.append("g").attr("transform",uu.legend),Ps||Tu.style("visibility","hidden"),Js||(Ou.style("visibility","hidden"),ru=Yn(fo.data.targets)),Iu=Xu.style("position","relative").append("div").style("position","absolute").style("pointer-events","none").style("z-index","10").style("display","none"),ro(Yn(fo.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1}),Lu.append("text").attr("class",o.text+" "+o.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),Lu.append("g").attr("clip-path",Ul).attr("class",o.regions),r=Lu.append("g").attr("clip-path",Ul).attr("class",o.grid),Vc&&r.append("g").attr("class",o.xgrids),Gc&&r.append("g").attr("class",o.ygrids),r.append("g").attr("class",o.xgridLines),r.append("g").attr("class",o.ygridLines),Wc&&r.append("g").attr("class",o.xgridFocus).append("line").attr("class",o.xgridFocus),Lu.append("g").attr("clip-path",Ul).attr("class",o.chart),a=Lu.select("."+o.chart).append("g").attr("class",o.eventRects).style("fill-opacity",0),Lu.select("."+o.chart).append("g").attr("class",o.chartBars),Lu.select("."+o.chart).append("g").attr("class",o.chartLines),n=Lu.select("."+o.chart).append("g").attr("class",o.chartArcs).attr("transform",uu.arc),n.append("text").attr("class",o.chartArcsTitle).style("text-anchor","middle").text(We()),br(fo.data.targets)&&(n.append("path").attr("class",o.chartArcsBackground).attr("d",function(){var t={data:[{value:yl}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return Ue(t,!0,!0)}),n.append("text").attr("dy",".75em").attr("class",o.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none").text(hl?vl:""),n.append("text").attr("dx",-1*(Yo+(Uo-Yo)/2)+"px").attr("dy","1.2em").attr("class",o.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none").text(hl?xl:""),n.append("text").attr("dx",Yo+(Uo-Yo)/2+"px").attr("dy","1.2em").attr("class",o.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none").text(hl?yl:"")),Lu.select("."+o.chart).append("g").attr("class",o.chartTexts),Lu.insert("rect",Eo?null:"g."+o.regions).attr("class",o.zoomRect).attr("width",Ro).attr("height",So).style("opacity",0).on("dblclick.zoom",null),Ac&&Eu.extent("function"!=typeof Ac?Ac:Ac(rn())),iu.x=Lu.append("g").attr("class",o.axis+" "+o.axisX).attr("clip-path",Bl).attr("transform",uu.x).style("visibility",ic?"visible":"hidden"),iu.x.append("text").attr("class",o.axisXLabel).attr("transform",rc?"rotate(-90)":"").style("text-anchor",Xe),iu.y=Lu.append("g").attr("class",o.axis+" "+o.axisY).attr("clip-path",Yl).attr("transform",uu.y).style("visibility",kc?"visible":"hidden"),iu.y.append("text").attr("class",o.axisYLabel).attr("transform",rc?"":"rotate(-90)").style("text-anchor",Ce),iu.y2=Lu.append("g").attr("class",o.axis+" "+o.axisY2).attr("transform",uu.y2).style("visibility",Rc?"visible":"hidden"),iu.y2.append("text").attr("class",o.axisY2Label).attr("transform",rc?"":"rotate(-90)").style("text-anchor",_e),Tu.append("g").attr("clip-path",Ul).attr("class",o.chart),Tu.select("."+o.chart).append("g").attr("class",o.chartBars),Tu.select("."+o.chart).append("g").attr("class",o.chartLines),Tu.append("g").attr("clip-path",Ul).attr("class",o.brush).call(Eu).selectAll("rect").attr(rc?"width":"height",rc?zo:jo),iu.subx=Tu.append("g").attr("class",o.axisX).attr("transform",uu.subx).attr("clip-path",rc?"":Bl),Ji(fo.data.targets),s&&(Xi(),Bi({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),Rl){if(Pl&&"string"==typeof zl){for(zl=Br(zl),i=0;i<fo.data.targets[0].values.length&&fo.data.targets[0].values[i].x-zl!==0;i++);zl=i}Iu.html(_l(fo.data.targets.map(function(t){return Dn(t.values[zl])}),re(),ja(Ar(fo.data.targets)),Ql)),Iu.style("top",Sl.top).style("left",Sl.left).style("display","block")}null==t.onresize&&(t.onresize=Vi()),t.onresize.add&&(t.onresize.add(function(){To.call(fo)}),t.onresize.add(function(){fo.flush()}),t.onresize.add(function(){Oo.call(fo)})),fo.element=Xu.node()}function Ri(t){t.append("rect").attr("class",wa).style("cursor",Xs&&Cs?"pointer":null).on("mouseover",function(t){var e,n,a=t.index;Gl||Ar(fo.data.targets)||(e=fo.data.targets.map(function(t){return Dn(Mn(t.values,a))}),n=[],Object.keys(vs).forEach(function(t){for(var a=0;a<e.length;a++)if(e[a]&&e[a].id===t){n.push(e[a]),e.shift(a);break}}),e=n.concat(e),$c&&pi(a),vi(a),Lu.selectAll("."+o.shape+"-"+a).each(function(t){Ss.call(fo,t)}))}).on("mouseout",function(t){var e=t.index;Ar(fo.data.targets)||(ir(),ar(),xi(e),mi(),Lu.selectAll("."+o.shape+"-"+e).each(function(t){js.call(fo,t)}))}).on("mousemove",function(t){var e,n=t.index,a=Du.select("."+o.eventRect+"-"+n);Gl||Ar(fo.data.targets)||(e=Gn(fo.data.targets).map(function(t){return Dn(Mn(t.values,n))}),Ol&&(nr(e,uo.mouse(this)),rr(e)),(!Ol||Xs&&!Cs)&&Lu.selectAll("."+o.shape+"-"+n).each(function(){uo.select(this).classed(o.EXPANDED,!0),Xs&&a.style("cursor",Cs?"pointer":null),Ol||(ir(),ar(),Cs||(xi(n),mi()))}).filter(function(t){return"circle"===this.nodeName?Yr(this,hi(t)):"path"===this.nodeName?Pr(this):void 0}).each(function(t){Xs&&(Cs||_s(t))&&a.style("cursor","pointer"),Ol||(nr([t],uo.mouse(this)),rr([t]),$c&&pi(n,t.id),vi(n,t.id))}))}).on("click",function(t){var e=t.index;if(!Ar(fo.data.targets))return Jl?void(Jl=!1):void Lu.selectAll("."+o.shape+"-"+e).each(function(t){Si(this,t,e)})}).call(uo.behavior.drag().origin(Object).on("drag",function(){ji(uo.mouse(this))}).on("dragstart",function(){Fi(uo.mouse(this))}).on("dragend",function(){Ni()})).on("dblclick.zoom",null)}function zi(t){t.append("rect").attr("x",0).attr("y",0).attr("width",Ro).attr("height",So).attr("class",o.eventRect).on("mouseout",function(){Ar(fo.data.targets)||(ir(),ar(),xi())}).on("mousemove",function(){var t,e,n,a,r=Gn(fo.data.targets);Gl||Ar(r)||(t=uo.mouse(this),e=Ka(r,t),e&&(n=Tr(e)?[e]:Za(r,e.x),a=n.map(function(t){return Dn(t)}),nr(a,t),$c&&(xi(),pi(e.index,e.id)),rr(a),Jr(e,t)<100?(Du.select("."+o.eventRect).style("cursor","pointer"),Kl||(Ss.call(fo,e),Kl=!0)):Kl&&(Du.select("."+o.eventRect).style("cursor",null),js.call(fo,e),Kl=!1)))}).on("click",function(){var t,e,n=Gn(fo.data.targets);Ar(n)||(t=uo.mouse(this),e=Ka(n,t),e&&Jr(e,t)<100&&Lu.select("."+o.circles+La(e.id)).select("."+o.circle+"-"+e.index).each(function(){Si(this,e,e.index)}))}).call(uo.behavior.drag().origin(Object).on("drag",function(){ji(uo.mouse(this))}).on("dragstart",function(){Fi(uo.mouse(this))}).on("dragend",function(){Ni()})).on("dblclick.zoom",null)}function Si(t,e,n){var a,r,i=uo.select(t),s=i.classed(o.SELECTED);"circle"===t.nodeName?(a=Yr(t,1.5*hi(e)),r=ri):"path"===t.nodeName&&(i.classed(o.bar)?(a=Pr(t),r=si):(a=!0,r=ci)),(Cs||a)&&(Xs&&_s(e)&&(Rs||Lu.selectAll("."+o.shapes+(Cs?La(e.id):"")).selectAll("."+o.shape).each(function(t,e){var n=uo.select(this);n.classed(o.SELECTED)&&r(!1,n.classed(o.SELECTED,!1),t,e)}),i.classed(o.SELECTED,!s),r(!s,i,e,n)),zs.call(fo,e,t))}function ji(t){var e,n,a,r,i,s,c,l;Ar(fo.data.targets)||Xs&&(!wo||ku.altDomain)&&Rs&&(e=ql[0],n=ql[1],a=t[0],r=t[1],i=Math.min(e,a),s=Math.max(e,a),c=Cs?Xo.top:Math.min(n,r),l=Cs?So:Math.max(n,r),Lu.select("."+o.dragarea).attr("x",i).attr("y",c).attr("width",s-i).attr("height",l-c),Lu.selectAll("."+o.shapes).selectAll("."+o.shape).filter(function(t){return _s(t)}).each(function(t,e){var n,a,r,u,d,f,h=uo.select(this),g=h.classed(o.SELECTED),p=h.classed(o.INCLUDED),x=!1;if(h.classed(o.circle))n=1*h.attr("cx"),a=1*h.attr("cy"),d=ri,x=n>i&&s>n&&a>c&&l>a;else{if(!h.classed(o.bar))return;f=Qa(this),n=f.x,a=f.y,r=f.width,u=f.height,d=si,x=!(n>s||i>n+r||a>l||c>a+u)}x^p&&(h.classed(o.INCLUDED,!p),h.classed(o.SELECTED,!g),d(!g,h,t,e))}))}function Fi(t){Ar(fo.data.targets)||Xs&&(ql=t,Lu.select("."+o.chart).append("rect").attr("class",o.dragarea).style("opacity",.1),Gl=!0,Us.call(fo))}function Ni(){Ar(fo.data.targets)||Xs&&(Lu.select("."+o.dragarea).transition().duration(100).style("opacity",0).remove(),Lu.selectAll("."+o.shape).classed(o.INCLUDED,!1),Gl=!1,Bs.call(fo))}function Ui(t,e){"grid"===e&&t.each(function(){var t=uo.select(this),e=t.attr("x1"),n=t.attr("x2"),a=t.attr("y1"),r=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(a),y2:Math.ceil(r)})})}function Bi(t,n){var a,r,i,s,c,l,u,d,f,h,g,p,y,v,m,b,w,A,E,k,D,M,L,T,O,I,X,C,_,R,z,S,j,F,N,U,B,P,V,H,q,G,J,K,W,Z,Q,$,te,ee=sr(Mr),ne=sr(Lr),re=sr(Er),ie=Ar(fo.data.targets),oe=Gn(fo.data.targets);if(a=s=p=b=ei(),t=t||{},I=Zr(t,"withY",!0),X=Zr(t,"withSubchart",!0),C=Zr(t,"withTransition",!0),z=Zr(t,"withTransform",!1),S=Zr(t,"withUpdateXDomain",!1),j=Zr(t,"withUpdateOrgXDomain",!1),F=Zr(t,"withLegend",!1),_=Zr(t,"withTransitionForExit",C),R=Zr(t,"withTransitionForAxis",C),J=C?Io:0,K=_?J:0,W=R?J:0,n=n||qi(W),F&&Js&&ro(Yn(fo.data.targets),t,n),Vl&&0===oe.length&&as.domain([0,iu.x.selectAll(".tick").size()]),oe.length?(on(oe,S,j),pc||!gc&&!hc||(Q=Kn(Jn(oe),hc),ls.tickValues(Q),fs.tickValues(Q))):(ls.tickValues([]),fs.tickValues([])),rs.domain(tn(oe,"y")),is.domain(tn(oe,"y2")),iu.x.style("opacity",ie?0:1),iu.y.style("opacity",ie?0:1),iu.y2.style("opacity",ie?0:1),iu.subx.style("opacity",ie?0:1),n.axisX.call(ls),n.axisY.call(us),n.axisY2.call(ds),n.axisSubX.call(fs),ze(C),S&&oe.length)if(dc&&Q){for($=1;$<Q.length;$++)if(Q.length/$<fc){te=$;break}Du.selectAll("."+o.axisX+" .tick text").each(function(t){var e=Q.indexOf(t);0>e||uo.select(this).style("display",e%te?"none":"block")})}else Du.selectAll("."+o.axisX+" .tick text").style("display","block");!rc&&xc&&ue(iu.x,n.axisX,xc),N=bi(ee,!1),B=Ai(ne),V=wi(re,!1),q=Ei(ne,!0),G=Ei(ne,!1),ss.domain(rs.domain()),cs.domain(is.domain()),Iu.style("display","none"),x(),Lu.select("text."+o.text+"."+o.empty).attr("x",Ro/2).attr("y",So/2).text(Ys).transition().style("opacity",oe.length?0:1),Lu.select("line."+o.xgridFocus).style("visibility","hidden"),Vc&&(r=rc?{x1:0,x2:Ro,y1:function(t){return as(t)-L},y2:function(t){return as(t)-L}}:{x1:function(t){return as(t)+L},x2:function(t){return as(t)+L},y1:0,y2:So},(f=function(t){i=or(Hc,as),L=Vl?ls.tickOffset():0,a=Lu.select("."+o.xgrids).selectAll("."+o.xgrid).data(i),a.enter().append("line").attr("class",o.xgrid),t||a.attr(r).style("opacity",function(){return+uo.select(this).attr(rc?"y1":"x1")===(rc?So:0)?0:1}),a.exit().remove()})()),s=Lu.select("."+o.xgridLines).selectAll("."+o.xgridLine).data(qc),c=s.enter().append("g").attr("class",function(t){return o.xgridLine+(t.class?" "+t.class:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor","end").attr("transform",rc?"":"rotate(-90)").attr("dx",rc?0:-Xo.top).attr("dy",-5).style("opacity",0),s.exit().transition().duration(J).style("opacity",0).remove(),I&&Gc&&(l=Lu.select("."+o.ygrids).selectAll("."+o.ygrid).data(rs.ticks(Kc)),l.enter().append("line").attr("class",o.ygrid),l.attr("x1",rc?rs:0).attr("x2",rc?rs:Ro).attr("y1",rc?0:rs).attr("y2",rc?So:rs),l.exit().remove(),Ui(l,"grid")),I&&(u=Lu.select("."+o.ygridLines).selectAll("."+o.ygridLine).data(Jc),d=u.enter().append("g").attr("class",function(t){return o.ygridLine+(t.class?" "+t.class:"")}),d.append("line").style("opacity",0),d.append("text").attr("text-anchor","end").attr("transform",rc?"rotate(-90)":"").attr("dx",rc?0:-Xo.top).attr("dy",-5).style("opacity",0),u.select("line").transition().duration(J).attr("x1",rc?Ha:0).attr("x2",rc?Ha:Ro).attr("y1",rc?0:Ha).attr("y2",rc?So:Ha).style("opacity",1),u.select("text").transition().duration(J).attr("x",rc?0:Ro).attr("y",Ha).text(function(t){return t.text}).style("opacity",1),u.exit().transition().duration(J).style("opacity",0).remove()),m=Lu.select("."+o.regions).selectAll("."+o.region).data(Ll),m.enter().append("g").attr("class",ba).append("rect").style("fill-opacity",0),m.exit().transition().duration(J).style("opacity",0).remove(),y=Lu.selectAll("."+o.bars).selectAll("."+o.bar).data(zr),y.enter().append("path").attr("class",ga).style("stroke",function(t){return Ql(t.id)}).style("fill",function(t){return Ql(t.id)}),y.style("opacity",Ca),y.exit().transition().duration(K).style("opacity",0).remove(),h=Lu.selectAll("."+o.lines).selectAll("."+o.line).data(_r),h.enter().append("path").attr("class",ua).style("stroke",Ql),h.style("opacity",Ca).attr("transform",null),h.exit().transition().duration(K).style("opacity",0).remove(),g=Lu.selectAll("."+o.areas).selectAll("."+o.area).data(_r),g.enter().append("path").attr("class",va).style("fill",Ql).style("opacity",function(){return _u=+uo.select(this).style("opacity"),0}),g.style("opacity",_u),g.exit().transition().duration(K).style("opacity",0).remove(),Zc&&(p=Lu.selectAll("."+o.circles).selectAll("."+o.circle).data(Sr),p.enter().append("circle").attr("class",fa).attr("r",di).style("fill",Ql),p.style("opacity",Ca),p.exit().remove()),za()&&(b=Lu.selectAll("."+o.texts).selectAll("."+o.text).data(jr),b.enter().append("text").attr("class",oa).attr("text-anchor",function(t){return rc?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",Ql).style("fill-opacity",0),b.text(function(t){return Ya(ae(t.id))(t.value,t.id)}),b.exit().transition().duration(K).style("fill-opacity",0).remove()),v=Lu.selectAll("."+o.arcs).selectAll("."+o.arc).data(Rr),v.enter().append("path").attr("class",xa).style("fill",function(t){return Ql(t.data)}).style("cursor",function(t){return _s(t)?"pointer":null}).style("opacity",0).each(function(t){Ir(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}).on("mouseover",function(t){var e,n;Wl||(e=je(t),n=Pe(e),He(e.data.id),to(e.data.id,!0),Ss.call(fo,n,this))}).on("mousemove",function(t){var e=je(t),n=Pe(e),a=[n];nr(a,uo.mouse(this))}).on("mouseout",function(t){var e,n;Wl||(e=je(t),n=Pe(e),qe(e.data.id),eo(),ar(),js.call(fo,n,this))}).on("click",function(t,e){var n=je(t),a=Pe(n);Si(this,a,e)}),v.attr("transform",function(t){return!Ir(t.data)&&z?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).each(function(){Wl=!0}).transition().duration(J).attrTween("d",function(t){var e,n=je(t);return n?(isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=uo.interpolate(this._current,n),this._current=e(0),function(t){return Ue(e(t),!0)}):function(){return"M 0 0"}}).attr("transform",z?"scale(1)":"").style("fill",function(t){return $l?$l(t.data.values[0].value):Ql(t.data.id)}).style("opacity",1).call(Kr,function(){Wl=!1}),v.exit().transition().duration(K).style("opacity",0).remove(),Lu.selectAll("."+o.chartArc).select("text").style("opacity",0).attr("class",function(t){return Ir(t.data)?o.gaugeValue:""}).text(Ve).attr("transform",Be).transition().duration(J).style("opacity",function(t){return Hn(t.data.id)&&Cr(t.data)?1:0}),Lu.select("."+o.chartArcsTitle).style("opacity",wr(fo.data.targets)||br(fo.data.targets)?1:0),Ps&&(uo.event&&"zoom"===uo.event.type&&Eu.extent(as.orgDomain()).update(),X&&(!rc&&xc&&ue(iu.subx,n.axisSubX,xc),Eu.empty()||Eu.extent(as.orgDomain()).update(),U=bi(ee,!0),P=Ai(ne,!0),H=wi(re,!0),E=Tu.selectAll("."+o.bars).selectAll("."+o.bar).data(zr),E.enter().append("path").attr("class",ga).style("stroke","none").style("fill",Ql),E.style("opacity",Ca).transition().duration(J).attr("d",P).style("opacity",1),E.exit().transition().duration(J).style("opacity",0).remove(),w=Tu.selectAll("."+o.lines).selectAll("."+o.line).data(_r),w.enter().append("path").attr("class",ua).style("stroke",Ql),w.style("opacity",Ca).transition().duration(J).attr("d",H).style("opacity",1),w.exit().transition().duration(J).style("opacity",0).remove(),A=Tu.selectAll("."+o.areas).selectAll("."+o.area).data(_r),A.enter().append("path").attr("class",va).style("fill",Ql).style("opacity",function(){return _u=+uo.select(this).style("opacity"),0}),A.style("opacity",0).transition().duration(J).attr("d",U).style("fill",Ql).style("opacity",_u),A.exit().transition().duration(K).style("opacity",0).remove())),Lu.selectAll("."+o.selectedCircles).filter(function(t){return Lr(t)}).selectAll("circle").remove(),Do&&(k=Lu.select("."+o.eventRects).style("cursor",wo?rc?"ns-resize":"ew-resize":null),qr(gs)&&!kn(gs)?(k.classed(o.eventRectsMultiple)||k.classed(o.eventRectsMultiple,!0).classed(o.eventRectsSingle,!1).selectAll("."+o.eventRect).remove(),D=Lu.select("."+o.eventRects).selectAll("."+o.eventRect).data([0]),zi(D.enter()),D.attr("x",0).attr("y",0).attr("width",Ro).attr("height",So)):(k.classed(o.eventRectsSingle)||k.classed(o.eventRectsMultiple,!1).classed(o.eventRectsSingle,!0).selectAll("."+o.eventRect).remove(),!Hl()&&!Pl||Vl?(O=Y(),T=function(t){return as(t.x)-O/2}):(O=function(t){var e=jn(t.index),n=Fn(t.index),a=fo.data.xs[t.id][t.index],r=(as(n?n:a)-as(e?e:a))/2;return 0>r?0:r},T=function(t){var e=jn(t.index),n=fo.data.xs[t.id][t.index];return(as(n)+as(e?e:n))/2}),M=Un(fo.data.targets),Lu.select("."+o.eventRects).datum(M?M.values:[]),D=Lu.select("."+o.eventRects).selectAll("."+o.eventRect).data(function(t){return t}),Ri(D.enter()),D.attr("class",wa).attr("x",rc?0:T).attr("y",rc?T:0).attr("width",rc?Ro:O).attr("height",rc?O:So),D.exit().remove())),uo.transition().duration(J).each(function(){var n=[];n.push(y.transition().attr("d",B).style("fill",Ql).style("opacity",1)),n.push(h.transition().attr("d",V).style("stroke",Ql).style("opacity",1)),n.push(g.transition().attr("d",N).style("fill",Ql).style("opacity",_u)),n.push(p.transition().style("opacity",_a).style("fill",Ql).attr("cx",rc?fr:dr).attr("cy",rc?dr:fr)),n.push(Lu.selectAll("."+o.selectedCircle).transition().attr("cx",rc?fr:dr).attr("cy",rc?dr:fr)),n.push(b.transition().attr("x",q).attr("y",G).style("fill",Ql).style("fill-opacity",t.flow?0:Ra)),n.push(m.selectAll("rect").transition().attr("x",dn).attr("y",fn).attr("width",hn).attr("height",gn).style("fill-opacity",function(t){return e(t.opacity)?t.opacity:.1})),n.push(s.select("line").transition().attr("x1",rc?0:Va).attr("x2",rc?Ro:Va).attr("y1",rc?Va:Xo.top).attr("y2",rc?Va:So).style("opacity",1)),n.push(s.select("text").transition().attr("x",rc?Ro:0).attr("y",Va).text(function(t){return t.text}).style("opacity",1)),t.flow&&(Z=Wr(),n.forEach(function(t){Z.add(t)}))}).call(Z?Z:function(){},function(){var e,n,i,c=1,l=t.flow.index,u=t.flow.length,d=Mn(fo.data.targets[0].values,l),x=Mn(fo.data.targets[0].values,l+u),v=as.domain(),w=t.flow.duration||J,A=t.flow.done||function(){},E=Wr();fo.data.targets.forEach(function(t){t.values.splice(0,u)}),i=on(oe,!0,!0),f&&f(!0),t.flow.orgDataCount?e=1===t.flow.orgDataCount||d.x===x.x?as(v[0])-as(i[0]):Pl?as(v[0])-as(i[0]):as(d.x)-as(x.x):1!==fo.data.targets[0].values.length?e=as(v[0])-as(i[0]):Pl?(d=Mn(fo.data.targets[0].values,0),x=Mn(fo.data.targets[0].values,fo.data.targets[0].values.length-1),e=as(d.x)-as(x.x)):e=sn(i)/2,c=sn(v)/sn(i),n="translate("+e+",0) scale("+c+",1)",uo.transition().ease("linear").duration(w).each(function(){E.add(iu.x.transition().call(ls)),E.add(y.transition().attr("transform",n)),E.add(h.transition().attr("transform",n)),E.add(g.transition().attr("transform",n)),E.add(p.transition().attr("transform",n)),E.add(b.transition().attr("transform",n)),E.add(m.filter(pn).transition().attr("transform",n)),E.add(a.transition().attr("transform",n)),E.add(s.transition().attr("transform",n))}).call(E,function(){var t,e=[],n=[],i=[];if(u){for(t=0;u>t;t++)e.push("."+o.shape+"-"+(l+t)),n.push("."+o.text+"-"+(l+t)),i.push("."+o.eventRect+"-"+(l+t));Du.selectAll("."+o.shapes).selectAll(e).remove(),Du.selectAll("."+o.texts).selectAll(n).remove(),Du.selectAll("."+o.eventRects).selectAll(i).remove(),Du.select("."+o.xgrid).remove()}a.attr("transform",null).attr(r),s.attr("transform",null),s.select("line").attr("x1",rc?0:Va).attr("x2",rc?Ro:Va),s.select("text").attr("x",rc?Ro:0).attr("y",Va),y.attr("transform",null).attr("d",B),h.attr("transform",null).attr("d",V),g.attr("transform",null).attr("d",N),p.attr("transform",null).attr("cx",rc?fr:dr).attr("cy",rc?dr:fr),b.attr("transform",null).attr("x",q).attr("y",G).style("fill-opacity",Ra),m.attr("transform",null),m.select("rect").filter(pn).attr("x",dn).attr("width",hn),D.attr("x",rc?0:T).attr("y",rc?T:0).attr("width",rc?Ro:O).attr("height",rc?O:So),A()})}),Yn(fo.data.targets).forEach(function(t){Ru[t]=!0}),Ii()}function Yi(){Bi({withTransition:!1,withY:!1,withSubchart:!1,withUpdateXDomain:!0}),Hs.call(fo,as.orgDomain())}function Pi(){if(wo&&0!==Gn(fo.data.targets).length){if("mousemove"===uo.event.sourceEvent.type&&ku.altDomain)return as.domain(ku.altDomain),void ku.scale(as).updateScaleExtent();Vl&&as.orgDomain()[0]===Cu[0]&&as.domain([Cu[0]-1e-10,as.orgDomain()[1]]),Bi({withTransition:!1,withY:!1,withSubchart:!1}),"mousemove"===uo.event.sourceEvent.type&&(Jl=!0),ko.call(fo,as.orgDomain())}}function Vi(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t}function Hi(){Du.attr("width",Fo).attr("height",No),Du.select("#"+jl).select("rect").attr("width",Ro).attr("height",So),Du.select("#"+Fl).select("rect").attr("x",C).attr("y",_).attr("width",F).attr("height",N),Du.select("#"+Nl).select("rect").attr("x",R).attr("y",z).attr("width",U).attr("height",B),Du.select("."+o.zoomRect).attr("width",Ro).attr("height",So),Xu.style("max-height",No+"px")}function qi(t){return{axisX:t?iu.x.transition().duration(t):iu.x,axisY:t?iu.y.transition().duration(t):iu.y,axisY2:t?iu.y2.transition().duration(t):iu.y2,axisSubX:t?iu.subx.transition().duration(t):iu.subx}}function Gi(t){var e;t=t||{},t.withTransition=Zr(t,"withTransition",!0),t.withTransform=Zr(t,"withTransform",!1),t.withLegend=Zr(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=Zr(t,"withTransitionForTransform",t.withTransition),p(),t.withLegend&&Js||(e=qi(t.withTransitionForAxis?Io:0),J(),Hi(),g(t.withTransitionForTransform,e)),Bi(t,e)}function Ji(t){var e,n,a,r,i,s,c,l,u,d,f,h;c=Lu.select("."+o.chartTexts).selectAll("."+o.chartText).data(t).attr("class",Ea),l=c.enter().append("g").attr("class",Ea).style("opacity",0).style("pointer-events","none"),l.append("g").attr("class",sa),r=Lu.select("."+o.chartBars).selectAll("."+o.chartBar).data(t).attr("class",Da),a=r.enter().append("g").attr("class",Da).style("opacity",0).style("pointer-events","none"),a.append("g").attr("class",pa).style("cursor",function(t){return _s(t)?"pointer":null}),n=Lu.select("."+o.chartLines).selectAll("."+o.chartLine).data(t).attr("class",ka),e=n.enter().append("g").attr("class",ka).style("opacity",0).style("pointer-events","none"),e.append("g").attr("class",da),e.append("g").attr("class",ma),e.append("g").attr("class",function(t){return ia(o.selectedCircles,t.id)}),e.append("g").attr("class",ha).style("cursor",function(t){return _s(t)?"pointer":null}),t.forEach(function(t){Lu.selectAll("."+o.selectedCircles+La(t.id)).selectAll("."+o.selectedCircle).each(function(e){e.value=t.values[e.index].value})}),s=Lu.select("."+o.chartArcs).selectAll("."+o.chartArc).data(Jo(t)).attr("class",Ma),i=s.enter().append("g").attr("class",Ma),i.append("g").attr("class",ya),i.append("text").attr("dy",br(fo.data.targets)?"-0.35em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none"),Ps&&(h=Tu.select("."+o.chartBars).selectAll("."+o.chartBar).data(t).attr("class",Da),f=h.enter().append("g").style("opacity",0).attr("class",Da),f.append("g").attr("class",pa),d=Tu.select("."+o.chartLines).selectAll("."+o.chartLine).data(t).attr("class",ka),u=d.enter().append("g").style("opacity",0).attr("class",ka),u.append("g").attr("class",da),u.append("g").attr("class",ma)),Du.selectAll("."+o.target).filter(function(t){return Hn(t.id)}).transition().duration(Io).style("opacity",1)}function Ki(t,e){t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){e.types?gr(t.id,e.types[t.id]):gr(t.id,e.type)}),fo.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),fo.data.targets=fo.data.targets.concat(t)),Ji(fo.data.targets),Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),"function"==typeof e.done&&e.done()}function Wi(t){t.data?Ki(zn(t.data),t):t.url?In(t.url,t.mimeType,t.keys,function(e){Ki(zn(e),t)}):t.json?Ki(zn(Cn(t.json,t.keys)),t):t.rows?Ki(zn(_n(t.rows)),t):t.columns?Ki(zn(Rn(t.columns)),t):Ki(null,t)}function Zi(t,e){return"function"!=typeof e&&(e=function(){}),t=t.filter(function(t){return Vn(fo.data.targets,t)}),t&&0!==t.length?(Du.selectAll(t.map(function(t){return Ta(t)})).transition().style("opacity",0).remove().call(Kr,e),void t.forEach(function(t){Ru[t]=!1,Ou.selectAll("."+o.legendItem+La(t)).remove(),fo.data.targets=fo.data.targets.filter(function(e){return e.id!==t
})})):void e()}function Qi(t){return t.classed(o.legendItemHidden)?vu:1}function $i(t){return t.classed(o.legendItemHidden)?vu:.3}function to(t,e){Ou.selectAll("."+o.legendItem).transition().duration(100).style("opacity",function(n){var a=uo.select(this);return t&&n!==t?e?$i(a):Qi(a):e?Qi(a):$i(a)})}function eo(){Ou.selectAll("."+o.legendItem).transition().duration(100).style("opacity",function(){return Qi(uo.select(this))})}function no(t){Js||(Js=!0,Ou.style("visibility","visible")),$n(t),Ou.selectAll(Xa(t)).style("visibility","visible").transition().style("opacity",function(){return Qi(uo.select(this))})}function ao(t){Js&&Hr(t)&&(Js=!1,Ou.style("visibility","hidden")),Qn(t),Ou.selectAll(Xa(t)).style("opacity",0).style("visibility","hidden")}function ro(t,e,n){function r(e,n,a){function r(t,e){e||(i=(f-D-d)/2,k>i&&(i=(f-d)/2,D=0,X++)),I[t]=X,O[X]=fu?10:i,M[t]=D,D+=d}var i,s,c=$r(e.textContent,o.legendItem),l=10*Math.ceil((c.width+w)/10),u=10*Math.ceil((c.height+b)/10),d=du||fu?u:l,f=du||fu?G():q();return a&&(D=0,X=0,A=0,E=0),Js&&!qn(n)?void(L[n]=T[n]=I[n]=M[n]=0):(L[n]=l,T[n]=u,A&&A>l||(A=l),E&&E>u||(E=u),s=du||fu?E:A,void(ac?(Object.keys(L).forEach(function(t){L[t]=A}),Object.keys(T).forEach(function(t){T[t]=E}),i=(f-s*t.length)/2,k>i?(D=0,X=0,t.forEach(function(t){r(t)})):r(n,!0)):r(n)))}var i,s,c,l,u,d,f,h,x,y,v,m,b=4,w=36,A=0,E=0,k=10,D=0,M={},L={},T={},O=[0],I={},X=0,C=Ou.selectAll("."+o.legendItemFocused).size();e=e||{},h=Zr(e,"withTransition",!0),x=Zr(e,"withTransitionForTransform",!0),du?(i=function(t){return A*I[t]},l=function(t){return O[I[t]]+M[t]}):fu?(i=function(t){return A*I[t]+10},l=function(t){return O[I[t]]+M[t]}):(i=function(t){return O[I[t]]+M[t]},l=function(t){return E*I[t]}),s=function(t,e){return i(t,e)+14},u=function(t,e){return l(t,e)+9},c=function(t,e){return i(t,e)-4},d=function(t,e){return l(t,e)-7},f=Ou.selectAll("."+o.legendItem).data(t).enter().append("g").attr("class",function(t){return ia(o.legendItem,t)}).style("visibility",function(t){return qn(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){"function"==typeof tc?tc.call(fo,t):fo.toggle(t)}).on("mouseover",function(t){uo.select(this).classed(o.legendItemFocused,!0),Wl||fo.focus(t),"function"==typeof ec&&ec.call(fo,t)}).on("mouseout",function(t){uo.select(this).classed(o.legendItemFocused,!1),Wl||fo.revert(),"function"==typeof nc&&nc.call(fo,t)}),f.append("text").text(function(t){return a(vs[t])?vs[t]:t}).each(function(t,e){r(this,t,0===e)}).style("pointer-events","none").attr("x",du||fu?s:-200).attr("y",du||fu?-200:u),f.append("rect").attr("class",o.legendItemEvent).style("fill-opacity",0).attr("x",du||fu?c:-200).attr("y",du||fu?-200:d),f.append("rect").attr("class",o.legendItemTile).style("pointer-events","none").style("fill",Ql).attr("x",du||fu?s:-200).attr("y",du||fu?-200:l).attr("width",10).attr("height",10),fu&&0!==A&&Ou.insert("g","."+o.legendItem).attr("class",o.legendBackground).append("rect").attr("height",G()-10).attr("width",A*(X+1)+10),y=Ou.selectAll("text").data(t).text(function(t){return a(vs[t])?vs[t]:t}).each(function(t,e){r(this,t,0===e)}),(h?y.transition():y).attr("x",s).attr("y",u),v=Ou.selectAll("rect."+o.legendItemEvent).data(t),(h?v.transition():v).attr("width",function(t){return L[t]}).attr("height",function(t){return T[t]}).attr("x",c).attr("y",d),m=Ou.selectAll("rect."+o.legendItemTile).data(t),(h?m.transition():m).style("fill",Ql).attr("x",i).attr("y",l),Ou.selectAll("."+o.legendItem).classed(o.legendItemHidden,function(t){return!Hn(t)}).transition().style("opacity",function(t){var e=uo.select(this);return Hn(t)?!C||e.classed(o.legendItemFocused)?Qi(e):$i(e):vu}),V(A),H(E),P(X),p(),J(),Hi(),g(x,n)}function io(t){return Vn(fo.data.targets,t.id)}function oo(t){return"data"in t&&Vn(fo.data.targets,t.data.id)}function so(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(a){("value"in a&&e.value===t.value||"class"in a&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}}function co(t,e){var n=so(t),a=function(t){return!n(t)},r=e?o.xgridLines:o.ygridLines,i=e?o.xgridLine:o.ygridLine;Lu.select("."+r).selectAll("."+i).filter(n).transition().duration(Io).style("opacity",0).remove(),e?qc=qc.filter(a):Jc=Jc.filter(a)}function lo(t,e,n){var a=!Ar(fo.data.targets),r=n||{withTransitionForAxis:a};r.withTransitionForTransform=!1,Wl=!1,gr(t,e),Gi(r)}var uo=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,fo={data:{},axis:{},legend:{}},ho={},go=c(["bindto"],"#chart"),po=c(["size","width"]),xo=c(["size","height"]),yo=c(["padding","left"]),vo=c(["padding","right"]),mo=c(["padding","top"]),bo=c(["padding","bottom"]),wo=c(["zoom","enabled"],!1),Ao=c(["zoom","extent"]),Eo=c(["zoom","privileged"],!1),ko=c(["zoom","onzoom"],function(){}),Do=c(["interaction","enabled"],!0),Mo=c(["onmouseover"],function(){}),Lo=c(["onmouseout"],function(){}),To=c(["onresize"],function(){}),Oo=c(["onresized"],function(){}),Io=c(["transition","duration"],350);s("data","data is required in config");var Xo,Co,_o,Ro,zo,So,jo,Fo,No,Uo,Bo,Yo,Po,Vo,Ho,qo,Go,Jo,Ko,Wo,Zo,Qo,$o,ts,es,ns,as,rs,is,os,ss,cs,ls,us,ds,fs,hs=c(["data","x"]),gs=c(["data","xs"],{}),ps=c(["data","x_format"],"%Y-%m-%d"),xs=c(["data","x_localtime"],!0),ys=c(["data","id_converter"],function(t){return t}),vs=c(["data","names"],{}),ms=c(["data","classes"],{}),bs=c(["data","groups"],[]),ws=c(["data","axes"],{}),As=c(["data","type"]),Es=c(["data","types"],{}),ks=c(["data","labels"],{}),Ds=c(["data","order"],"desc"),Ms=c(["data","regions"],{}),Ls=c(["data","color"]),Ts=c(["data","colors"],{}),Os=c(["data","hide"],!1),Is=c(["data","filter"]),Xs=c(["data","selection","enabled"],!1),Cs=c(["data","selection","grouped"],!1),_s=c(["data","selection","isselectable"],function(){return!0}),Rs=c(["data","selection","multiple"],!0),zs=c(["data","onclick"],function(){}),Ss=c(["data","onmouseover"],function(){}),js=c(["data","onmouseout"],function(){}),Fs=c(["data","onselected"],function(){}),Ns=c(["data","onunselected"],function(){}),Us=c(["data","ondragstart"],function(){}),Bs=c(["data","ondragend"],function(){}),Ys=c(["data","empty","label","text"],""),Ps=c(["subchart","show"],!1),Vs=c(["subchart","size","height"],60),Hs=c(["subchart","onbrush"],function(){}),qs=c(["color","pattern"],[]),Gs=c(["color","threshold"],{}),Js=c(["legend","show"],!0),Ks=c(["legend","position"],"bottom"),Ws=c(["legend","inset","anchor"],"top-left"),Zs=c(["legend","inset","x"],10),Qs=c(["legend","inset","y"],0),$s=c(["legend","inset","step"]),tc=c(["legend","item","onclick"]),ec=c(["legend","item","onmouseover"]),nc=c(["legend","item","onmouseout"]),ac=c(["legend","equally"],!1),rc=c(["axis","rotated"],!1),ic=c(["axis","x","show"],!0),oc=c(["axis","x","type"],"indexed"),sc=c(["axis","x","localtime"],!0),cc=c(["axis","x","categories"],[]),lc=c(["axis","x","tick","centered"],!1),uc=c(["axis","x","tick","format"]),dc=c(["axis","x","tick","culling"],{}),fc=c(["axis","x","tick","culling","max"],10),hc=c(["axis","x","tick","count"]),gc=c(["axis","x","tick","fit"],!0),pc=c(["axis","x","tick","values"],null),xc=c(["axis","x","tick","rotate"]),yc=c(["axis","x","tick","outer"],!0),vc=c(["axis","x","max"],null),mc=c(["axis","x","min"],null),bc=c(["axis","x","padding"],{}),wc=c(["axis","x","height"]),Ac=c(["axis","x","default"]),Ec=c(["axis","x","label"],{}),kc=c(["axis","y","show"],!0),Dc=c(["axis","y","max"]),Mc=c(["axis","y","min"]),Lc=c(["axis","y","center"]),Tc=c(["axis","y","label"],{}),Oc=c(["axis","y","inner"],!1),Ic=c(["axis","y","tick","format"]),Xc=c(["axis","y","tick","outer"],!0),Cc=c(["axis","y","padding"]),_c=c(["axis","y","ticks"],10),Rc=c(["axis","y2","show"],!1),zc=c(["axis","y2","max"]),Sc=c(["axis","y2","min"]),jc=c(["axis","y2","center"]),Fc=c(["axis","y2","label"],{}),Nc=c(["axis","y2","inner"],!1),Uc=c(["axis","y2","tick","format"]),Bc=c(["axis","y2","tick","outer"],!0),Yc=c(["axis","y2","padding"]),Pc=c(["axis","y2","ticks"],10),Vc=c(["grid","x","show"],!1),Hc=c(["grid","x","type"],"tick"),qc=c(["grid","x","lines"],[]),Gc=c(["grid","y","show"],!1),Jc=c(["grid","y","lines"],[]),Kc=c(["grid","y","ticks"],10),Wc=c(["grid","focus","show"],!0),Zc=c(["point","show"],!0),Qc=c(["point","r"],2.5),$c=c(["point","focus","expand","enabled"],!0),tl=c(["point","focus","expand","r"]),el=c(["point","focus","select","r"]),nl=c(["line","connect_null"],!1),al=c(["bar","width"]),rl=c(["bar","width","ratio"],.6),il=c(["bar","width","max"]),ol=c(["bar","zerobased"],!0),sl=c(["area","zerobased"],!0),cl=c(["pie","label","show"],!0),ll=c(["pie","label","format"]),ul=c(["pie","label","threshold"],.05),dl=c(["pie","sort"],!0),fl=c(["pie","expand"],!0),hl=c(["gauge","label","show"],!0),gl=c(["gauge","label","format"]),pl=c(["gauge","expand"],!0),xl=c(["gauge","min"],0),yl=c(["gauge","max"],100),vl=c(["gauge","units"]),ml=c(["gauge","width"]),bl=c(["donut","label","show"],!0),wl=c(["donut","label","format"]),Al=c(["donut","label","threshold"],.05),El=c(["donut","width"]),kl=c(["donut","sort"],!0),Dl=c(["donut","expand"],!0),Ml=c(["donut","title"],""),Ll=c(["regions"],[]),Tl=c(["tooltip","show"],!0),Ol=c(["tooltip","grouped"],!0),Il=c(["tooltip","format","title"]),Xl=c(["tooltip","format","name"]),Cl=c(["tooltip","format","value"]),_l=c(["tooltip","contents"],function(t,e,n,a){var r,i,s,c,l,u,d=Il?Il:e,f=Xl?Xl:function(t){return t},h=Cl?Cl:n;for(i=0;i<t.length;i++)t[i]&&(t[i].value||0===t[i].value)&&(r||(s=d?d(t[i].x):t[i].x,r="<table class='"+o.tooltip+"'>"+(s||0===s?"<tr><th colspan='2'>"+s+"</th></tr>":"")),l=f(t[i].name),c=h(t[i].value,t[i].ratio,t[i].id,t[i].index),u=$l?$l(t[i].value):a(t[i].id),r+="<tr class='"+o.tooltipName+"-"+t[i].id+"'>",r+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",r+="<td class='value'>"+c+"</td>",r+="</tr>");return r+"</table>"}),Rl=c(["tooltip","init","show"],!1),zl=c(["tooltip","init","x"],0),Sl=c(["tooltip","init","position"],{top:"0px",left:"50px"}),jl="c3-"+ +new Date+"-clip",Fl=jl+"-xaxis",Nl=jl+"-yaxis",Ul=l(jl),Bl=l(Fl),Yl=l(Nl),Pl="timeseries"===oc,Vl=oc.indexOf("categor")>=0,Hl=function(){return!Pl&&(hs||qr(gs))},ql=null,Gl=!1,Jl=!1,Kl=!1,Wl=!1,Zl=uo.scale.category10().range(),Ql=Nr(Ts,qr(qs)?qs:Zl,Ls),$l=qr(Gs)?Ur(qs,Gs):null,tu=xs?uo.time.format:uo.time.format.utc,eu=sc?uo.time.format:uo.time.format.utc,nu=eu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),au=[],ru=[],iu={},ou=rc?"left":"bottom",su=rc?Oc?"top":"bottom":Oc?"right":"left",cu=rc?Nc?"bottom":"top":Nc?"left":"right",lu=rc?"left":"bottom",uu={main:function(){return"translate("+u(Xo.left)+","+u(Xo.top)+")"},context:function(){return"translate("+u(Co.left)+","+u(Co.top)+")"},legend:function(){return"translate("+_o.left+","+_o.top+")"},x:function(){return"translate(0,"+(rc?0:So)+")"},y:function(){return"translate(0,"+(rc?So:0)+")"},y2:function(){return"translate("+(rc?0:Ro)+","+(rc?1:0)+")"},subx:function(){return"translate(0,"+(rc?0:jo)+")"},arc:function(){return"translate("+Po/2+","+Vo/2+")"}},du="right"===Ks,fu="inset"===Ks,hu="top-left"===Ws||"top-right"===Ws,gu="top-left"===Ws||"bottom-left"===Ws,pu=0,xu=0,yu=0,vu=.15,mu=0,bu=30,wu=rc&&!ic?0:30,Au=5;Jo=uo.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),Ds&&dl&&kl||Jo.sort(null);var Eu,ku=function(){};Eu=uo.svg.brush().on("brush",Yi),Eu.update=function(){return Tu&&Tu.select("."+o.brush).call(this),this},Eu.scale=function(t){return rc?this.y(t):this.x(t)},ku=uo.behavior.zoom().on("zoomstart",function(){ku.altDomain=uo.event.sourceEvent.altKey?as.orgDomain():null}).on("zoom",Pi),ku.scale=function(t){return rc?this.y(t):this.x(t)},ku.orgScaleExtent=function(){var t=Ao?Ao:[1,10];return[t[0],Math.max(Nn()/t[1],t[1])]},ku.updateScaleExtent=function(){var t=sn(as.orgDomain())/sn(Cu),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this};var Du,Mu,Lu,Tu,Ou,Iu,Xu,Cu,_u,Ru={};if(fo.focus=function(t){function e(t){Gn(t).transition().duration(100).style("opacity",1)}var n=Du.selectAll(Ta(t)),a=n.filter(io),r=n.filter(oo);fo.revert(),fo.defocus(),e(a.classed(o.focused,!0)),e(r),Ar(fo.data.targets)&&He(t,!0),to(t,!0)},fo.defocus=function(t){function e(t){Gn(t).transition().duration(100).style("opacity",.3)}var n=Du.selectAll(Ta(t)),a=n.filter(io),r=n.filter(oo);fo.revert(),e(a.classed(o.focused,!1)),e(r),Ar(fo.data.targets)&&qe(t),to(t,!1)},fo.revert=function(t){function e(t){Gn(t).transition().duration(100).style("opacity",1)}var n=Du.selectAll(Ta(t)),a=n.filter(io),r=n.filter(oo);e(a.classed(o.focused,!1)),e(r),Ar(fo.data.targets)&&qe(t),eo()},fo.show=function(t,e){t=Pn(t),e=e||{},Zn(t),Du.selectAll(Oa(t)).transition().style("opacity",1),e.withLegend&&no(t),Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},fo.hide=function(t,e){t=Pn(t),e=e||{},Wn(t),Du.selectAll(Oa(t)).transition().style("opacity",0),e.withLegend&&ao(t),Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},fo.toggle=function(t){Hn(t)?fo.hide(t):fo.show(t)},fo.unzoom=function(){Eu.clear().update(),Bi({withUpdateXDomain:!0})},fo.zoom=function(){},fo.zoom.enable=function(t){wo=t,Gi()},fo.load=function(t){return t.xs&&En(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){ms[e]=t.classes[e]}),"categories"in t&&Vl&&(cc=t.categories),"cacheIds"in t&&cn(t.cacheIds)?void Ki(un(t.cacheIds),t.done):void("unload"in t?Zi(Pn("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){Wi(t)}):Wi(t))},fo.unload=function(t){t=t||{},Zi(Pn(t.ids),function(){Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),"function"==typeof t.done&&t.done()})},fo.flow=function(t){var n,r,i,o,s,c,l,u,d=[],f=Nn(),h=0,g=0;if(t.json)r=Cn(t.json,t.keys);else if(t.rows)r=_n(t.rows);else{if(!t.columns)return;r=Rn(t.columns)}n=zn(r,!0),fo.data.targets.forEach(function(t){var e,a,r=!1;for(e=0;e<n.length;e++)if(t.id===n[e].id){for(r=!0,t.values[t.values.length-1]&&(g=t.values[t.values.length-1].index+1),h=n[e].values.length,a=0;h>a;a++)n[e].values[a].index=g+a,Pl||(n[e].values[a].x=g+a);t.values=t.values.concat(n[e].values),n.splice(e,1);break}r||d.push(t.id)}),fo.data.targets.forEach(function(t){var e,n;for(e=0;e<d.length;e++)if(t.id===d[e])for(g=t.values[t.values.length-1].index+1,n=0;h>n;n++)t.values.push({id:t.id,index:g+n,x:Pl?An(g+n):g+n,value:null})}),fo.data.targets.length&&n.forEach(function(t){var e,n=[];for(e=fo.data.targets[0].values[0].index;g>e;e++)n.push({id:t.id,index:e,x:Pl?An(e):e,value:null});t.values.forEach(function(t){t.index+=g,Pl||(t.x+=g)}),t.values=n.concat(t.values)}),fo.data.targets=fo.data.targets.concat(n),i=Nn(),s=fo.data.targets[0],c=s.values[0],a(t.to)?(h=0,u=Pl?Br(t.to):t.to,s.values.forEach(function(t){t.x<u&&h++})):a(t.length)&&(h=t.length),f?1===f&&Pl&&(l=(s.values[s.values.length-1].x-c.x)/2,o=[new Date(+c.x-l),new Date(+c.x+l)],on(null,!0,!0,o)):(l=Pl?s.values.length>1?s.values[s.values.length-1].x-c.x:c.x-rn(fo.data.targets)[0]:1,o=[c.x-l,c.x],on(null,!0,!0,o)),Ji(fo.data.targets),Bi({flow:{index:c.index,length:h,duration:e(t.duration)?t.duration:Io,done:t.done,orgDataCount:f},withLegend:!0,withTransition:f>1})},fo.selected=function(t){return uo.merge(Lu.selectAll("."+o.shapes+La(t)).selectAll("."+o.shape).filter(function(){return uo.select(this).classed(o.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},fo.select=function(t,e,n){Xs&&Lu.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(r,i){var s=uo.select(this),c=r.data?r.data.id:r.id,l=li(this),u=Cs||!t||t.indexOf(c)>=0,d=!e||e.indexOf(i)>=0,f=s.classed(o.SELECTED);s.classed(o.line)||s.classed(o.area)||(u&&d?_s(r)&&!f&&l(!0,s.classed(o.SELECTED,!0),r,i):a(n)&&n&&f&&l(!1,s.classed(o.SELECTED,!1),r,i))})},fo.unselect=function(t,e){Xs&&Lu.selectAll("."+o.shapes).selectAll("."+o.shape).each(function(n,a){var r=uo.select(this),i=n.data?n.data.id:n.id,s=li(this),c=Cs||!t||t.indexOf(i)>=0,l=!e||e.indexOf(a)>=0,u=r.classed(o.SELECTED);r.classed(o.line)||r.classed(o.area)||c&&l&&_s(n)&&u&&s(!1,r.classed(o.SELECTED,!1),n,a)})},fo.transform=function(t,e){var n=["pie","donut"].indexOf(t)<0?null:{withTransform:!0};lo(e,t,n)},fo.groups=function(t){return n(t)?bs:(bs=t,Bi(),bs)},fo.xgrids=function(t){return t?(qc=t,Bi(),qc):qc},fo.xgrids.add=function(t){return t?fo.xgrids(qc.concat(t)):void 0},fo.xgrids.remove=function(t){co(t,!0)},fo.ygrids=function(t){return t?(Jc=t,Bi(),Jc):Jc},fo.ygrids.add=function(t){return t?fo.ygrids(Jc.concat(t)):void 0},fo.ygrids.remove=function(t){co(t,!1)},fo.regions=function(t){return t?(Ll=t,Bi(),Ll):Ll},fo.regions.add=function(t){return t?(Ll=Ll.concat(t),Bi(),Ll):Ll},fo.regions.remove=function(t){var e,n,a;return t=t||{},e=Zr(t,"duration",Io),n=Zr(t,"classes",[o.region]),a=Lu.select("."+o.regions).selectAll(n.map(function(t){return"."+t})),(e?a.transition().duration(e):a).style("opacity",0).remove(),Ll=Ll.filter(function(t){var e=!1;return t.class?(t.class.split(" ").forEach(function(t){n.indexOf(t)<0||(e=!0)}),!e):!0})},fo.data.get=function(t){var e=fo.data.getAsTarget(t);return a(e)?e.values.map(function(t){return t.value}):void 0},fo.data.getAsTarget=function(t){var e=fo.data.targets.filter(function(e){return e.id===t});return e.length>0?e[0]:void 0},fo.data.names=function(t){return arguments.length?(Object.keys(t).forEach(function(e){vs[e]=t[e]}),Bi({withLegend:!0}),vs):vs},fo.data.colors=function(t){return arguments.length?(Object.keys(t).forEach(function(e){Ts[e]=t[e]}),Bi({withLegend:!0}),Ts):Ts},fo.category=function(t,e){return arguments.length>1&&(cc[t]=e,Bi()),cc[t]},fo.categories=function(t){return arguments.length?(cc=t,Bi(),cc):cc},fo.color=Ql,fo.x=function(t){return arguments.length&&(Ln(fo.data.targets,t),Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),fo.data.xs},fo.xs=function(t){return arguments.length&&(Tn(fo.data.targets,t),Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),fo.data.xs},fo.axis.labels=function(t){arguments.length&&(Object.keys(t).forEach(function(e){se(e,t[e])}),ze())},fo.axis.max=function(t){arguments.length&&("object"==typeof t?(e(t.x)&&(vc=t.x),e(t.y)&&(Dc=t.y),e(t.y2)&&(zc=t.y2)):Dc=zc=t,Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},fo.axis.min=function(t){arguments.length&&("object"==typeof t?(e(t.x)&&(mc=t.x),e(t.y)&&(Mc=t.y),e(t.y2)&&(Sc=t.y2)):Mc=Sc=t,Bi({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},fo.axis.range=function(t){arguments.length&&(void 0!==t.max&&fo.axis.max(t.max),void 0!==t.min&&fo.axis.min(t.min))},fo.legend.show=function(t){no(Pn(t)),Gi({withLegend:!0})},fo.legend.hide=function(t){ao(Pn(t)),Gi({withLegend:!0})},fo.resize=function(t){po=t?t.width:null,xo=t?t.height:null,fo.flush()},fo.flush=function(){Gi({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},fo.destroy=function(){fo.data.targets=void 0,fo.data.xs={},Xu.classed("c3",!1).html(""),t.onresize=null},i.data.url)In(i.data.url,i.data.mimeType,i.data.keys,_i);else if(i.data.json)_i(Cn(i.data.json,i.data.keys));else if(i.data.rows)_i(_n(i.data.rows));else{if(!i.data.columns)throw Error("url or json or rows or columns is required.");_i(Rn(i.data.columns))}return fo},"function"==typeof define&&define.amd?define("c3",["d3"],i):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:t.c3=i}(window);